var vueFlow=function(X,r){"use strict";var zn;const On=typeof window!="undefined",mi=e=>typeof e!="undefined",Vt=e=>typeof e=="function",gi=e=>typeof e=="string",Ht=()=>{};On&&((zn=window==null?void 0:window.navigator)==null?void 0:zn.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ne(e){return typeof e=="function"?e():r.unref(e)}function pi(e,t){function n(...o){e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})}return n}const Pn=e=>e();function yi(e=Pn){const t=r.ref(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:t,pause:n,resume:o,eventFilter:(...a)=>{t.value&&e(...a)}}}function Tn(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function wi(e){return e}function Je(e,t){let n,o,i;const a=r.ref(!0),l=()=>{a.value=!0,i()};r.watch(e,l,{flush:"sync"});const s=Vt(t)?t:t.get,c=Vt(t)?void 0:t.set,u=r.customRef((d,m)=>(o=d,i=m,{get(){return a.value&&(n=s(),a.value=!1),o(),n},set(h){c==null||c(h)}}));return Object.isExtensible(u)&&(u.trigger=l),u}function Z(){const e=[],t=i=>{const a=e.indexOf(i);a!==-1&&e.splice(a,1)};return{on:i=>(e.push(i),{off:()=>t(i)}),off:t,trigger:i=>{e.forEach(a=>a(i))}}}function Oe(e){return r.getCurrentScope()?(r.onScopeDispose(e),!0):!1}function Lt(e,t=!0){r.getCurrentInstance()?r.onMounted(e):t?e():r.nextTick(e)}function Pe(e){let t=!1;function n(m,{flush:h="sync",deep:p=!1,timeout:g,throwOnTimeout:f}={}){let w=null;const z=[new Promise(O=>{w=r.watch(e,y=>{m(y)!==t&&(w==null||w(),O(y))},{flush:h,deep:p,immediate:!0})})];return g!=null&&z.push(Tn(g,f).then(()=>Ne(e)).finally(()=>w==null?void 0:w())),Promise.race(z)}function o(m,h){if(!r.isRef(m))return n(y=>y===m,h);const{flush:p="sync",deep:g=!1,timeout:f,throwOnTimeout:w}=h!=null?h:{};let _=null;const O=[new Promise(y=>{_=r.watch([e,m],([M,C])=>{t!==(M===C)&&(_==null||_(),y(M))},{flush:p,deep:g,immediate:!0})})];return f!=null&&O.push(Tn(f,w).then(()=>Ne(e)).finally(()=>(_==null||_(),Ne(e)))),Promise.race(O)}function i(m){return n(h=>Boolean(h),m)}function a(m){return o(null,m)}function l(m){return o(void 0,m)}function s(m){return n(Number.isNaN,m)}function c(m,h){return n(p=>{const g=Array.from(p);return g.includes(m)||g.includes(Ne(m))},h)}function u(m){return d(1,m)}function d(m=1,h){let p=-1;return n(()=>(p+=1,p>=m),h)}return Array.isArray(Ne(e))?{toMatch:n,toContains:c,changed:u,changedTimes:d,get not(){return t=!t,this}}:{toMatch:n,toBe:o,toBeTruthy:i,toBeNull:a,toBeNaN:s,toBeUndefined:l,changed:u,changedTimes:d,get not(){return t=!t,this}}}var In=Object.getOwnPropertySymbols,vi=Object.prototype.hasOwnProperty,xi=Object.prototype.propertyIsEnumerable,_i=(e,t)=>{var n={};for(var o in e)vi.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&In)for(var o of In(e))t.indexOf(o)<0&&xi.call(e,o)&&(n[o]=e[o]);return n};function bi(e,t,n={}){const o=n,{eventFilter:i=Pn}=o,a=_i(o,["eventFilter"]);return r.watch(e,pi(i,t),a)}var ki=Object.defineProperty,Ni=Object.defineProperties,Ei=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,An=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,Vn=(e,t,n)=>t in e?ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Si=(e,t)=>{for(var n in t||(t={}))An.call(t,n)&&Vn(e,n,t[n]);if(et)for(var n of et(t))Dn.call(t,n)&&Vn(e,n,t[n]);return e},Ci=(e,t)=>Ni(e,Ei(t)),Mi=(e,t)=>{var n={};for(var o in e)An.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&et)for(var o of et(e))t.indexOf(o)<0&&Dn.call(e,o)&&(n[o]=e[o]);return n};function Ee(e,t,n={}){const o=n,{eventFilter:i}=o,a=Mi(o,["eventFilter"]),{eventFilter:l,pause:s,resume:c,isActive:u}=yi(i);return{stop:bi(e,t,Ci(Si({},a),{eventFilter:l})),pause:s,resume:c,isActive:u}}function tt(e){var t;const n=Ne(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Ft=On?window:void 0;function re(...e){let t,n,o,i;if(gi(e[0])?([n,o,i]=e,t=Ft):[t,n,o,i]=e,!t)return Ht;let a=Ht;const l=r.watch(()=>tt(t),c=>{a(),c&&(c.addEventListener(n,o,i),a=()=>{c.removeEventListener(n,o,i),a=Ht})},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return Oe(s),s}const $i=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function Hn(e,t,n={}){const{target:o=Ft,eventName:i="keydown",passive:a=!1}=n,l=$i(e);return re(o,i,c=>{l(c)&&t(c)},a)}function Zt(e,t=null){const n=r.getCurrentInstance();let o=()=>{};const i=r.customRef((a,l)=>(o=l,{get(){var s,c;return a(),(c=(s=n==null?void 0:n.proxy)==null?void 0:s.$refs[e])!=null?c:t},set(){}}));return Lt(o),r.onUpdated(o),i}function Bi(e,t=!1){const n=r.ref(),o=()=>n.value=Boolean(e());return o(),Lt(o,t),n}const Ut=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Xt="__vueuse_ssr_handlers__";Ut[Xt]=Ut[Xt]||{},Ut[Xt];var Ln=Object.getOwnPropertySymbols,Ri=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable,Oi=(e,t)=>{var n={};for(var o in e)Ri.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ln)for(var o of Ln(e))t.indexOf(o)<0&&zi.call(e,o)&&(n[o]=e[o]);return n};function Fn(e,t,n={}){const o=n,{window:i=Ft}=o,a=Oi(o,["window"]);let l;const s=Bi(()=>i&&"ResizeObserver"in i),c=()=>{l&&(l.disconnect(),l=void 0)},u=r.watch(()=>tt(e),m=>{c(),s.value&&i&&m&&(l=new ResizeObserver(t),l.observe(m,a))},{immediate:!0,flush:"post"}),d=()=>{c(),u()};return Oe(d),{isSupported:s,stop:d}}function Pi(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:i=!0,immediate:a=!0}=t,l=r.ref(0),s=r.ref(0),c=r.ref(0),u=r.ref(0),d=r.ref(0),m=r.ref(0),h=r.ref(0),p=r.ref(0);function g(){const f=tt(e);if(!f){n&&(l.value=0,s.value=0,c.value=0,u.value=0,d.value=0,m.value=0,h.value=0,p.value=0);return}const w=f.getBoundingClientRect();l.value=w.height,s.value=w.bottom,c.value=w.left,u.value=w.right,d.value=w.top,m.value=w.width,h.value=w.x,p.value=w.y}return Fn(e,g),r.watch(()=>tt(e),f=>!f&&g()),i&&re("scroll",g,{passive:!0}),o&&re("resize",g,{passive:!0}),Lt(()=>{a&&g()}),{height:l,bottom:s,left:c,right:u,top:d,width:m,x:h,y:p,update:g}}var Zn;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Zn||(Zn={}));var Ti=Object.defineProperty,Un=Object.getOwnPropertySymbols,Ii=Object.prototype.hasOwnProperty,Ai=Object.prototype.propertyIsEnumerable,Xn=(e,t,n)=>t in e?Ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Di=(e,t)=>{for(var n in t||(t={}))Ii.call(t,n)&&Xn(e,n,t[n]);if(Un)for(var n of Un(t))Ai.call(t,n)&&Xn(e,n,t[n]);return e};Di({linear:wi},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function nt(e,t,n,o={}){var i,a,l;const{passive:s=!1,eventName:c,deep:u=!1,defaultValue:d}=o,m=r.getCurrentInstance(),h=n||(m==null?void 0:m.emit)||((i=m==null?void 0:m.$emit)==null?void 0:i.bind(m))||((l=(a=m==null?void 0:m.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(m==null?void 0:m.proxy));let p=c;t||(t="modelValue"),p=c||p||`update:${t.toString()}`;const g=()=>mi(e[t])?e[t]:d;if(s){const f=r.ref(g());return r.watch(()=>e[t],w=>f.value=w),r.watch(f,w=>{(w!==e[t]||u)&&h(p,w)},{deep:u}),f}else return r.computed({get(){return g()},set(f){h(p,f)}})}var Vi={value:()=>{}};function ot(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new it(n)}function it(e){this._=e}function Hi(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}it.prototype=ot.prototype={constructor:it,on:function(e,t){var n=this._,o=Hi(e+"",n),i,a=-1,l=o.length;if(arguments.length<2){for(;++a<l;)if((i=(e=o[a]).type)&&(i=Li(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(i=(e=o[a]).type)n[i]=Yn(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Yn(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new it(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,a;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],o=0,i=a.length;o<i;++o)a[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(t,n)}};function Li(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function Yn(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Vi,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Yt="http://www.w3.org/1999/xhtml",Gn={svg:"http://www.w3.org/2000/svg",xhtml:Yt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gn.hasOwnProperty(t)?{space:Gn[t],local:e}:e}function Fi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Yt&&t.documentElement.namespaceURI===Yt?t.createElement(e):t.createElementNS(n,e)}}function Zi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Wn(e){var t=rt(e);return(t.local?Zi:Fi)(t)}function Ui(){}function Gt(e){return e==null?Ui:function(){return this.querySelector(e)}}function Xi(e){typeof e!="function"&&(e=Gt(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var a=t[i],l=a.length,s=o[i]=new Array(l),c,u,d=0;d<l;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),s[d]=u);return new te(o,this._parents)}function Yi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gi(){return[]}function Kn(e){return e==null?Gi:function(){return this.querySelectorAll(e)}}function Wi(e){return function(){return Yi(e.apply(this,arguments))}}function Ki(e){typeof e=="function"?e=Wi(e):e=Kn(e);for(var t=this._groups,n=t.length,o=[],i=[],a=0;a<n;++a)for(var l=t[a],s=l.length,c,u=0;u<s;++u)(c=l[u])&&(o.push(e.call(c,c.__data__,u,l)),i.push(c));return new te(o,i)}function qn(e){return function(){return this.matches(e)}}function jn(e){return function(t){return t.matches(e)}}var qi=Array.prototype.find;function ji(e){return function(){return qi.call(this.children,e)}}function Qi(){return this.firstElementChild}function Ji(e){return this.select(e==null?Qi:ji(typeof e=="function"?e:jn(e)))}var er=Array.prototype.filter;function tr(){return Array.from(this.children)}function nr(e){return function(){return er.call(this.children,e)}}function or(e){return this.selectAll(e==null?tr:nr(typeof e=="function"?e:jn(e)))}function ir(e){typeof e!="function"&&(e=qn(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var a=t[i],l=a.length,s=o[i]=[],c,u=0;u<l;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&s.push(c);return new te(o,this._parents)}function Qn(e){return new Array(e.length)}function rr(){return new te(this._enter||this._groups.map(Qn),this._parents)}function at(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}at.prototype={constructor:at,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ar(e){return function(){return e}}function lr(e,t,n,o,i,a){for(var l=0,s,c=t.length,u=a.length;l<u;++l)(s=t[l])?(s.__data__=a[l],o[l]=s):n[l]=new at(e,a[l]);for(;l<c;++l)(s=t[l])&&(i[l]=s)}function sr(e,t,n,o,i,a,l){var s,c,u=new Map,d=t.length,m=a.length,h=new Array(d),p;for(s=0;s<d;++s)(c=t[s])&&(h[s]=p=l.call(c,c.__data__,s,t)+"",u.has(p)?i[s]=c:u.set(p,c));for(s=0;s<m;++s)p=l.call(e,a[s],s,a)+"",(c=u.get(p))?(o[s]=c,c.__data__=a[s],u.delete(p)):n[s]=new at(e,a[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(h[s])===c&&(i[s]=c)}function cr(e){return e.__data__}function ur(e,t){if(!arguments.length)return Array.from(this,cr);var n=t?sr:lr,o=this._parents,i=this._groups;typeof e!="function"&&(e=ar(e));for(var a=i.length,l=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var d=o[u],m=i[u],h=m.length,p=dr(e.call(d,d&&d.__data__,u,o)),g=p.length,f=s[u]=new Array(g),w=l[u]=new Array(g),_=c[u]=new Array(h);n(d,m,f,w,_,p,t);for(var z=0,O=0,y,M;z<g;++z)if(y=f[z]){for(z>=O&&(O=z+1);!(M=w[O])&&++O<g;);y._next=M||null}}return l=new te(l,o),l._enter=s,l._exit=c,l}function dr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fr(){return new te(this._exit||this._groups.map(Qn),this._parents)}function hr(e,t,n){var o=this.enter(),i=this,a=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),o&&i?o.merge(i).order():i}function mr(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,a=o.length,l=Math.min(i,a),s=new Array(i),c=0;c<l;++c)for(var u=n[c],d=o[c],m=u.length,h=s[c]=new Array(m),p,g=0;g<m;++g)(p=u[g]||d[g])&&(h[g]=p);for(;c<i;++c)s[c]=n[c];return new te(s,this._parents)}function gr(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,a=o[i],l;--i>=0;)(l=o[i])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function pr(e){e||(e=yr);function t(m,h){return m&&h?e(m.__data__,h.__data__):!m-!h}for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a){for(var l=n[a],s=l.length,c=i[a]=new Array(s),u,d=0;d<s;++d)(u=l[d])&&(c[d]=u);c.sort(t)}return new te(i,this._parents).order()}function yr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wr(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vr(){return Array.from(this)}function xr(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,a=o.length;i<a;++i){var l=o[i];if(l)return l}return null}function _r(){let e=0;for(const t of this)++e;return e}function br(){return!this.node()}function kr(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],a=0,l=i.length,s;a<l;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function Nr(e){return function(){this.removeAttribute(e)}}function Er(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sr(e,t){return function(){this.setAttribute(e,t)}}function Cr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mr(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function $r(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Br(e,t){var n=rt(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Er:Nr:typeof t=="function"?n.local?$r:Mr:n.local?Cr:Sr)(n,t))}function Jn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rr(e){return function(){this.style.removeProperty(e)}}function zr(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Or(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Pr(e,t,n){return arguments.length>1?this.each((t==null?Rr:typeof t=="function"?Or:zr)(e,t,n==null?"":n)):Se(this.node(),e)}function Se(e,t){return e.style.getPropertyValue(t)||Jn(e).getComputedStyle(e,null).getPropertyValue(t)}function Tr(e){return function(){delete this[e]}}function Ir(e,t){return function(){this[e]=t}}function Ar(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Dr(e,t){return arguments.length>1?this.each((t==null?Tr:typeof t=="function"?Ar:Ir)(e,t)):this.node()[e]}function eo(e){return e.trim().split(/^|\s+/)}function Wt(e){return e.classList||new to(e)}function to(e){this._node=e,this._names=eo(e.getAttribute("class")||"")}to.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function no(e,t){for(var n=Wt(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function oo(e,t){for(var n=Wt(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Vr(e){return function(){no(this,e)}}function Hr(e){return function(){oo(this,e)}}function Lr(e,t){return function(){(t.apply(this,arguments)?no:oo)(this,e)}}function Fr(e,t){var n=eo(e+"");if(arguments.length<2){for(var o=Wt(this.node()),i=-1,a=n.length;++i<a;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Lr:t?Vr:Hr)(n,t))}function Zr(){this.textContent=""}function Ur(e){return function(){this.textContent=e}}function Xr(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Yr(e){return arguments.length?this.each(e==null?Zr:(typeof e=="function"?Xr:Ur)(e)):this.node().textContent}function Gr(){this.innerHTML=""}function Wr(e){return function(){this.innerHTML=e}}function Kr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function qr(e){return arguments.length?this.each(e==null?Gr:(typeof e=="function"?Kr:Wr)(e)):this.node().innerHTML}function jr(){this.nextSibling&&this.parentNode.appendChild(this)}function Qr(){return this.each(jr)}function Jr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ea(){return this.each(Jr)}function ta(e){var t=typeof e=="function"?e:Wn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function na(){return null}function oa(e,t){var n=typeof e=="function"?e:Wn(e),o=t==null?na:typeof t=="function"?t:Gt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function ia(){var e=this.parentNode;e&&e.removeChild(this)}function ra(){return this.each(ia)}function aa(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function la(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sa(e){return this.select(e?la:aa)}function ca(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ua(e){return function(t){e.call(this,t,this.__data__)}}function da(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function fa(e){return function(){var t=this.__on;if(!!t){for(var n=0,o=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++o]=a;++o?t.length=o:delete this.__on}}}function ha(e,t,n){return function(){var o=this.__on,i,a=ua(t);if(o){for(var l=0,s=o.length;l<s;++l)if((i=o[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(i):this.__on=[i]}}function ma(e,t,n){var o=da(e+""),i,a=o.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,d;c<u;++c)for(i=0,d=s[c];i<a;++i)if((l=o[i]).type===d.type&&l.name===d.name)return d.value}return}for(s=t?ha:fa,i=0;i<a;++i)this.each(s(o[i],t,n));return this}function io(e,t,n){var o=Jn(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ga(e,t){return function(){return io(this,e,t)}}function pa(e,t){return function(){return io(this,e,t.apply(this,arguments))}}function ya(e,t){return this.each((typeof t=="function"?pa:ga)(e,t))}function*wa(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,a=o.length,l;i<a;++i)(l=o[i])&&(yield l)}var ro=[null];function te(e,t){this._groups=e,this._parents=t}function Te(){return new te([[document.documentElement]],ro)}function va(){return this}te.prototype=Te.prototype={constructor:te,select:Xi,selectAll:Ki,selectChild:Ji,selectChildren:or,filter:ir,data:ur,enter:rr,exit:fr,join:hr,merge:mr,selection:va,order:gr,sort:pr,call:wr,nodes:vr,node:xr,size:_r,empty:br,each:kr,attr:Br,style:Pr,property:Dr,classed:Fr,text:Yr,html:qr,raise:Qr,lower:ea,append:ta,insert:oa,remove:ra,clone:sa,datum:ca,on:ma,dispatch:ya,[Symbol.iterator]:wa};function ne(e){return typeof e=="string"?new te([[document.querySelector(e)]],[document.documentElement]):new te([[e]],ro)}function xa(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ae(e,t){if(e=xa(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const _a={passive:!1},Ie={capture:!0,passive:!1};function Kt(e){e.stopImmediatePropagation()}function Ce(e){e.preventDefault(),e.stopImmediatePropagation()}function ao(e){var t=e.document.documentElement,n=ne(e).on("dragstart.drag",Ce,Ie);"onselectstart"in t?n.on("selectstart.drag",Ce,Ie):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function lo(e,t){var n=e.document.documentElement,o=ne(e).on("dragstart.drag",null);t&&(o.on("click.drag",Ce,Ie),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var lt=e=>()=>e;function qt(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:a,x:l,y:s,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}qt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ba(e){return!e.ctrlKey&&!e.button}function ka(){return this.parentNode}function Na(e,t){return t==null?{x:e.x,y:e.y}:t}function Ea(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sa(){var e=ba,t=ka,n=Na,o=Ea,i={},a=ot("start","drag","end"),l=0,s,c,u,d,m=0;function h(y){y.on("mousedown.drag",p).filter(o).on("touchstart.drag",w).on("touchmove.drag",_,_a).on("touchend.drag touchcancel.drag",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,M){if(!(d||!e.call(this,y,M))){var C=O(this,t.call(this,y,M),y,M,"mouse");!C||(ne(y.view).on("mousemove.drag",g,Ie).on("mouseup.drag",f,Ie),ao(y.view),Kt(y),u=!1,s=y.clientX,c=y.clientY,C("start",y))}}function g(y){if(Ce(y),!u){var M=y.clientX-s,C=y.clientY-c;u=M*M+C*C>m}i.mouse("drag",y)}function f(y){ne(y.view).on("mousemove.drag mouseup.drag",null),lo(y.view,u),Ce(y),i.mouse("end",y)}function w(y,M){if(!!e.call(this,y,M)){var C=y.changedTouches,T=t.call(this,y,M),H=C.length,D,G;for(D=0;D<H;++D)(G=O(this,T,y,M,C[D].identifier,C[D]))&&(Kt(y),G("start",y,C[D]))}}function _(y){var M=y.changedTouches,C=M.length,T,H;for(T=0;T<C;++T)(H=i[M[T].identifier])&&(Ce(y),H("drag",y,M[T]))}function z(y){var M=y.changedTouches,C=M.length,T,H;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),T=0;T<C;++T)(H=i[M[T].identifier])&&(Kt(y),H("end",y,M[T]))}function O(y,M,C,T,H,D){var G=a.copy(),L=ae(D||C,M),Y,I,v;if((v=n.call(y,new qt("beforestart",{sourceEvent:C,target:h,identifier:H,active:l,x:L[0],y:L[1],dx:0,dy:0,dispatch:G}),T))!=null)return Y=v.x-L[0]||0,I=v.y-L[1]||0,function R(k,b,S){var $=L,x;switch(k){case"start":i[H]=R,x=l++;break;case"end":delete i[H],--l;case"drag":L=ae(S||b,M),x=l;break}G.call(k,y,new qt(k,{sourceEvent:b,subject:v,target:h,identifier:H,active:x,x:L[0]+Y,y:L[1]+I,dx:L[0]-$[0],dy:L[1]-$[1],dispatch:G}),T)}}return h.filter=function(y){return arguments.length?(e=typeof y=="function"?y:lt(!!y),h):e},h.container=function(y){return arguments.length?(t=typeof y=="function"?y:lt(y),h):t},h.subject=function(y){return arguments.length?(n=typeof y=="function"?y:lt(y),h):n},h.touchable=function(y){return arguments.length?(o=typeof y=="function"?y:lt(!!y),h):o},h.on=function(){var y=a.on.apply(a,arguments);return y===a?h:y},h.clickDistance=function(y){return arguments.length?(m=(y=+y)*y,h):Math.sqrt(m)},h}function jt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function so(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Ae(){}var De=.7,st=1/De,Me="\\s*([+-]?\\d+)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ca=/^#([0-9a-f]{3,8})$/,Ma=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),$a=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),Ba=new RegExp(`^rgba\\(${Me},${Me},${Me},${Ve}\\)$`),Ra=new RegExp(`^rgba\\(${le},${le},${le},${Ve}\\)$`),za=new RegExp(`^hsl\\(${Ve},${le},${le}\\)$`),Oa=new RegExp(`^hsla\\(${Ve},${le},${le},${Ve}\\)$`),co={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jt(Ae,He,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uo,formatHex:uo,formatHex8:Pa,formatHsl:Ta,formatRgb:fo,toString:fo});function uo(){return this.rgb().formatHex()}function Pa(){return this.rgb().formatHex8()}function Ta(){return yo(this).formatHsl()}function fo(){return this.rgb().formatRgb()}function He(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ca.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ho(t):n===3?new Q(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ct(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ct(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ma.exec(e))?new Q(t[1],t[2],t[3],1):(t=$a.exec(e))?new Q(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ba.exec(e))?ct(t[1],t[2],t[3],t[4]):(t=Ra.exec(e))?ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=za.exec(e))?po(t[1],t[2]/100,t[3]/100,1):(t=Oa.exec(e))?po(t[1],t[2]/100,t[3]/100,t[4]):co.hasOwnProperty(e)?ho(co[e]):e==="transparent"?new Q(NaN,NaN,NaN,0):null}function ho(e){return new Q(e>>16&255,e>>8&255,e&255,1)}function ct(e,t,n,o){return o<=0&&(e=t=n=NaN),new Q(e,t,n,o)}function Ia(e){return e instanceof Ae||(e=He(e)),e?(e=e.rgb(),new Q(e.r,e.g,e.b,e.opacity)):new Q}function Qt(e,t,n,o){return arguments.length===1?Ia(e):new Q(e,t,n,o==null?1:o)}function Q(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}jt(Q,Qt,so(Ae,{brighter(e){return e=e==null?st:Math.pow(st,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Q(pe(this.r),pe(this.g),pe(this.b),ut(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mo,formatHex:mo,formatHex8:Aa,formatRgb:go,toString:go}));function mo(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}`}function Aa(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}${ye((isNaN(this.opacity)?1:this.opacity)*255)}`}function go(){const e=ut(this.opacity);return`${e===1?"rgb(":"rgba("}${pe(this.r)}, ${pe(this.g)}, ${pe(this.b)}${e===1?")":`, ${e})`}`}function ut(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ye(e){return e=pe(e),(e<16?"0":"")+e.toString(16)}function po(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oe(e,t,n,o)}function yo(e){if(e instanceof oe)return new oe(e.h,e.s,e.l,e.opacity);if(e instanceof Ae||(e=He(e)),!e)return new oe;if(e instanceof oe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),a=Math.max(t,n,o),l=NaN,s=a-i,c=(a+i)/2;return s?(t===a?l=(n-o)/s+(n<o)*6:n===a?l=(o-t)/s+2:l=(t-n)/s+4,s/=c<.5?a+i:2-a-i,l*=60):s=c>0&&c<1?0:l,new oe(l,s,c,e.opacity)}function Da(e,t,n,o){return arguments.length===1?yo(e):new oe(e,t,n,o==null?1:o)}function oe(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}jt(oe,Da,so(Ae,{brighter(e){return e=e==null?st:Math.pow(st,e),new oe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new oe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new Q(Jt(e>=240?e-240:e+120,i,o),Jt(e,i,o),Jt(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new oe(wo(this.h),dt(this.s),dt(this.l),ut(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ut(this.opacity);return`${e===1?"hsl(":"hsla("}${wo(this.h)}, ${dt(this.s)*100}%, ${dt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wo(e){return e=(e||0)%360,e<0?e+360:e}function dt(e){return Math.max(0,Math.min(1,e||0))}function Jt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var vo=e=>()=>e;function Va(e,t){return function(n){return e+n*t}}function Ha(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function La(e){return(e=+e)==1?xo:function(t,n){return n-t?Ha(t,n,e):vo(isNaN(t)?n:t)}}function xo(e,t){var n=t-e;return n?Va(e,n):vo(isNaN(e)?t:e)}var _o=function e(t){var n=La(t);function o(i,a){var l=n((i=Qt(i)).r,(a=Qt(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),u=xo(i.opacity,a.opacity);return function(d){return i.r=l(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return o.gamma=e,o}(1);function he(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var en=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tn=new RegExp(en.source,"g");function Fa(e){return function(){return e}}function Za(e){return function(t){return e(t)+""}}function Ua(e,t){var n=en.lastIndex=tn.lastIndex=0,o,i,a,l=-1,s=[],c=[];for(e=e+"",t=t+"";(o=en.exec(e))&&(i=tn.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[l]?s[l]+=a:s[++l]=a),(o=o[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,c.push({i:l,x:he(o,i)})),n=tn.lastIndex;return n<t.length&&(a=t.slice(n),s[l]?s[l]+=a:s[++l]=a),s.length<2?c[0]?Za(c[0].x):Fa(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)s[(m=c[d]).i]=m.x(u);return s.join("")})}var bo=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ko(e,t,n,o,i,a){var l,s,c;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,c/=s),e*o<t*n&&(e=-e,t=-t,c=-c,l=-l),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*bo,skewX:Math.atan(c)*bo,scaleX:l,scaleY:s}}var ft;function Xa(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nn:ko(t.a,t.b,t.c,t.d,t.e,t.f)}function Ya(e){return e==null||(ft||(ft=document.createElementNS("http://www.w3.org/2000/svg","g")),ft.setAttribute("transform",e),!(e=ft.transform.baseVal.consolidate()))?nn:(e=e.matrix,ko(e.a,e.b,e.c,e.d,e.e,e.f))}function No(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function a(u,d,m,h,p,g){if(u!==m||d!==h){var f=p.push("translate(",null,t,null,n);g.push({i:f-4,x:he(u,m)},{i:f-2,x:he(d,h)})}else(m||h)&&p.push("translate("+m+t+h+n)}function l(u,d,m,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:m.push(i(m)+"rotate(",null,o)-2,x:he(u,d)})):d&&m.push(i(m)+"rotate("+d+o)}function s(u,d,m,h){u!==d?h.push({i:m.push(i(m)+"skewX(",null,o)-2,x:he(u,d)}):d&&m.push(i(m)+"skewX("+d+o)}function c(u,d,m,h,p,g){if(u!==m||d!==h){var f=p.push(i(p)+"scale(",null,",",null,")");g.push({i:f-4,x:he(u,m)},{i:f-2,x:he(d,h)})}else(m!==1||h!==1)&&p.push(i(p)+"scale("+m+","+h+")")}return function(u,d){var m=[],h=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,m,h),l(u.rotate,d.rotate,m,h),s(u.skewX,d.skewX,m,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,m,h),u=d=null,function(p){for(var g=-1,f=h.length,w;++g<f;)m[(w=h[g]).i]=w.x(p);return m.join("")}}}var Ga=No(Xa,"px, ","px)","deg)"),Wa=No(Ya,", ",")",")"),Ka=1e-12;function Eo(e){return((e=Math.exp(e))+1/e)/2}function qa(e){return((e=Math.exp(e))-1/e)/2}function ja(e){return((e=Math.exp(2*e))-1)/(e+1)}var Qa=function e(t,n,o){function i(a,l){var s=a[0],c=a[1],u=a[2],d=l[0],m=l[1],h=l[2],p=d-s,g=m-c,f=p*p+g*g,w,_;if(f<Ka)_=Math.log(h/u)/t,w=function(T){return[s+T*p,c+T*g,u*Math.exp(t*T*_)]};else{var z=Math.sqrt(f),O=(h*h-u*u+o*f)/(2*u*n*z),y=(h*h-u*u-o*f)/(2*h*n*z),M=Math.log(Math.sqrt(O*O+1)-O),C=Math.log(Math.sqrt(y*y+1)-y);_=(C-M)/t,w=function(T){var H=T*_,D=Eo(M),G=u/(n*z)*(D*ja(t*H+M)-qa(M));return[s+G*p,c+G*g,u*D/Eo(t*H+M)]}}return w.duration=_*1e3*t/Math.SQRT2,w}return i.rho=function(a){var l=Math.max(.001,+a),s=l*l,c=s*s;return e(l,s,c)},i}(Math.SQRT2,2,4),$e=0,Le=0,Fe=0,So=1e3,ht,Ze,mt=0,we=0,gt=0,Ue=typeof performance=="object"&&performance.now?performance:Date,Co=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function on(){return we||(Co(Ja),we=Ue.now()+gt)}function Ja(){we=0}function pt(){this._call=this._time=this._next=null}pt.prototype=Mo.prototype={constructor:pt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?on():+n)+(t==null?0:+t),!this._next&&Ze!==this&&(Ze?Ze._next=this:ht=this,Ze=this),this._call=e,this._time=n,rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,rn())}};function Mo(e,t,n){var o=new pt;return o.restart(e,t,n),o}function el(){on(),++$e;for(var e=ht,t;e;)(t=we-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$e}function $o(){we=(mt=Ue.now())+gt,$e=Le=0;try{el()}finally{$e=0,nl(),we=0}}function tl(){var e=Ue.now(),t=e-mt;t>So&&(gt-=t,mt=e)}function nl(){for(var e,t=ht,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ht=n);Ze=e,rn(o)}function rn(e){if(!$e){Le&&(Le=clearTimeout(Le));var t=e-we;t>24?(e<1/0&&(Le=setTimeout($o,e-Ue.now()-gt)),Fe&&(Fe=clearInterval(Fe))):(Fe||(mt=Ue.now(),Fe=setInterval(tl,So)),$e=1,Co($o))}}function Bo(e,t,n){var o=new pt;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var ol=ot("start","end","cancel","interrupt"),il=[],Ro=0,zo=1,an=2,yt=3,Oo=4,ln=5,wt=6;function vt(e,t,n,o,i,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;rl(e,n,{name:t,index:o,group:i,on:ol,tween:il,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ro})}function sn(e,t){var n=ie(e,t);if(n.state>Ro)throw new Error("too late; already scheduled");return n}function se(e,t){var n=ie(e,t);if(n.state>yt)throw new Error("too late; already running");return n}function ie(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rl(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=Mo(a,0,n.time);function a(u){n.state=zo,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var d,m,h,p;if(n.state!==zo)return c();for(d in o)if(p=o[d],p.name===n.name){if(p.state===yt)return Bo(l);p.state===Oo?(p.state=wt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[d]):+d<t&&(p.state=wt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[d])}if(Bo(function(){n.state===yt&&(n.state=Oo,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=an,n.on.call("start",e,e.__data__,n.index,n.group),n.state===an){for(n.state=yt,i=new Array(h=n.tween.length),d=0,m=-1;d<h;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=p);i.length=m+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=ln,1),m=-1,h=i.length;++m<h;)i[m].call(e,d);n.state===ln&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=wt,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function xt(e,t){var n=e.__transition,o,i,a=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((o=n[l]).name!==t){a=!1;continue}i=o.state>an&&o.state<ln,o.state=wt,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[l]}a&&delete e.__transition}}function al(e){return this.each(function(){xt(this,e)})}function ll(e,t){var n,o;return function(){var i=se(this,e),a=i.tween;if(a!==n){o=n=a;for(var l=0,s=o.length;l<s;++l)if(o[l].name===t){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function sl(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var a=se(this,e),l=a.tween;if(l!==o){i=(o=l).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}a.tween=i}}function cl(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=ie(this.node(),n).tween,i=0,a=o.length,l;i<a;++i)if((l=o[i]).name===e)return l.value;return null}return this.each((t==null?ll:sl)(n,e,t))}function cn(e,t,n){var o=e._id;return e.each(function(){var i=se(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ie(i,o).value[t]}}function Po(e,t){var n;return(typeof t=="number"?he:t instanceof He?_o:(n=He(t))?(t=n,_o):Ua)(e,t)}function ul(e){return function(){this.removeAttribute(e)}}function dl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fl(e,t,n){var o,i=n+"",a;return function(){var l=this.getAttribute(e);return l===i?null:l===o?a:a=t(o=l,n)}}function hl(e,t,n){var o,i=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===o?a:a=t(o=l,n)}}function ml(e,t,n){var o,i,a;return function(){var l,s=n(this),c;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),c=s+"",l===c?null:l===o&&c===i?a:(i=c,a=t(o=l,s)))}}function gl(e,t,n){var o,i,a;return function(){var l,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),c=s+"",l===c?null:l===o&&c===i?a:(i=c,a=t(o=l,s)))}}function pl(e,t){var n=rt(e),o=n==="transform"?Wa:Po;return this.attrTween(e,typeof t=="function"?(n.local?gl:ml)(n,o,cn(this,"attr."+e,t)):t==null?(n.local?dl:ul)(n):(n.local?hl:fl)(n,o,t))}function yl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function vl(e,t){var n,o;function i(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&wl(e,a)),n}return i._value=t,i}function xl(e,t){var n,o;function i(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&yl(e,a)),n}return i._value=t,i}function _l(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=rt(e);return this.tween(n,(o.local?vl:xl)(o,t))}function bl(e,t){return function(){sn(this,e).delay=+t.apply(this,arguments)}}function kl(e,t){return t=+t,function(){sn(this,e).delay=t}}function Nl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bl:kl)(t,e)):ie(this.node(),t).delay}function El(e,t){return function(){se(this,e).duration=+t.apply(this,arguments)}}function Sl(e,t){return t=+t,function(){se(this,e).duration=t}}function Cl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?El:Sl)(t,e)):ie(this.node(),t).duration}function Ml(e,t){if(typeof t!="function")throw new Error;return function(){se(this,e).ease=t}}function $l(e){var t=this._id;return arguments.length?this.each(Ml(t,e)):ie(this.node(),t).ease}function Bl(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;se(this,e).ease=n}}function Rl(e){if(typeof e!="function")throw new Error;return this.each(Bl(this._id,e))}function zl(e){typeof e!="function"&&(e=qn(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var a=t[i],l=a.length,s=o[i]=[],c,u=0;u<l;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&s.push(c);return new ue(o,this._parents,this._name,this._id)}function Ol(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,a=Math.min(o,i),l=new Array(o),s=0;s<a;++s)for(var c=t[s],u=n[s],d=c.length,m=l[s]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(m[p]=h);for(;s<o;++s)l[s]=t[s];return new ue(l,this._parents,this._name,this._id)}function Pl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Tl(e,t,n){var o,i,a=Pl(t)?sn:se;return function(){var l=a(this,e),s=l.on;s!==o&&(i=(o=s).copy()).on(t,n),l.on=i}}function Il(e,t){var n=this._id;return arguments.length<2?ie(this.node(),n).on.on(e):this.each(Tl(n,e,t))}function Al(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Dl(){return this.on("end.remove",Al(this._id))}function Vl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gt(e));for(var o=this._groups,i=o.length,a=new Array(i),l=0;l<i;++l)for(var s=o[l],c=s.length,u=a[l]=new Array(c),d,m,h=0;h<c;++h)(d=s[h])&&(m=e.call(d,d.__data__,h,s))&&("__data__"in d&&(m.__data__=d.__data__),u[h]=m,vt(u[h],t,n,h,u,ie(d,n)));return new ue(a,this._parents,t,n)}function Hl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Kn(e));for(var o=this._groups,i=o.length,a=[],l=[],s=0;s<i;++s)for(var c=o[s],u=c.length,d,m=0;m<u;++m)if(d=c[m]){for(var h=e.call(d,d.__data__,m,c),p,g=ie(d,n),f=0,w=h.length;f<w;++f)(p=h[f])&&vt(p,t,n,f,h,g);a.push(h),l.push(d)}return new ue(a,l,t,n)}var Ll=Te.prototype.constructor;function Fl(){return new Ll(this._groups,this._parents)}function Zl(e,t){var n,o,i;return function(){var a=Se(this,e),l=(this.style.removeProperty(e),Se(this,e));return a===l?null:a===n&&l===o?i:i=t(n=a,o=l)}}function To(e){return function(){this.style.removeProperty(e)}}function Ul(e,t,n){var o,i=n+"",a;return function(){var l=Se(this,e);return l===i?null:l===o?a:a=t(o=l,n)}}function Xl(e,t,n){var o,i,a;return function(){var l=Se(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),Se(this,e))),l===c?null:l===o&&c===i?a:(i=c,a=t(o=l,s))}}function Yl(e,t){var n,o,i,a="style."+t,l="end."+a,s;return function(){var c=se(this,e),u=c.on,d=c.value[a]==null?s||(s=To(t)):void 0;(u!==n||i!==d)&&(o=(n=u).copy()).on(l,i=d),c.on=o}}function Gl(e,t,n){var o=(e+="")=="transform"?Ga:Po;return t==null?this.styleTween(e,Zl(e,o)).on("end.style."+e,To(e)):typeof t=="function"?this.styleTween(e,Xl(e,o,cn(this,"style."+e,t))).each(Yl(this._id,e)):this.styleTween(e,Ul(e,o,t),n).on("end.style."+e,null)}function Wl(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Kl(e,t,n){var o,i;function a(){var l=t.apply(this,arguments);return l!==i&&(o=(i=l)&&Wl(e,l,n)),o}return a._value=t,a}function ql(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Kl(e,t,n==null?"":n))}function jl(e){return function(){this.textContent=e}}function Ql(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Jl(e){return this.tween("text",typeof e=="function"?Ql(cn(this,"text",e)):jl(e==null?"":e+""))}function es(e){return function(t){this.textContent=e.call(this,t)}}function ts(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&es(i)),t}return o._value=e,o}function ns(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ts(e))}function os(){for(var e=this._name,t=this._id,n=Io(),o=this._groups,i=o.length,a=0;a<i;++a)for(var l=o[a],s=l.length,c,u=0;u<s;++u)if(c=l[u]){var d=ie(c,t);vt(c,e,n,u,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ue(o,this._parents,e,n)}function is(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(a,l){var s={value:l},c={value:function(){--i===0&&a()}};n.each(function(){var u=se(this,o),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),i===0&&a()})}var rs=0;function ue(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Io(){return++rs}var de=Te.prototype;ue.prototype={constructor:ue,select:Vl,selectAll:Hl,selectChild:de.selectChild,selectChildren:de.selectChildren,filter:zl,merge:Ol,selection:Fl,transition:os,call:de.call,nodes:de.nodes,node:de.node,size:de.size,empty:de.empty,each:de.each,on:Il,attr:pl,attrTween:_l,style:Gl,styleTween:ql,text:Jl,textTween:ns,remove:Dl,tween:cl,delay:Nl,duration:Cl,ease:$l,easeVarying:Rl,end:is,[Symbol.iterator]:de[Symbol.iterator]};function as(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ls={time:null,delay:0,duration:250,ease:as};function ss(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function cs(e){var t,n;e instanceof ue?(t=e._id,e=e._name):(t=Io(),(n=ls).time=on(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,a=0;a<i;++a)for(var l=o[a],s=l.length,c,u=0;u<s;++u)(c=l[u])&&vt(c,e,t,u,l,n||ss(c,t));return new ue(o,this._parents,e,t)}Te.prototype.interrupt=al,Te.prototype.transition=cs;var _t=e=>()=>e;function us(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function fe(e,t,n){this.k=e,this.x=t,this.y=n}fe.prototype={constructor:fe,scale:function(e){return e===1?this:new fe(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fe(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bt=new fe(1,0,0);fe.prototype;function un(e){e.stopImmediatePropagation()}function Xe(e){e.preventDefault(),e.stopImmediatePropagation()}function ds(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function fs(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ao(){return this.__zoom||bt}function hs(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ms(){return navigator.maxTouchPoints||"ontouchstart"in this}function gs(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function ps(){var e=ds,t=fs,n=gs,o=hs,i=ms,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,c=Qa,u=ot("start","zoom","end"),d,m,h,p=500,g=150,f=0,w=10;function _(v){v.property("__zoom",Ao).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",G).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(v,R,k,b){var S=v.selection?v.selection():v;S.property("__zoom",Ao),v!==S?M(v,R,k,b):S.interrupt().each(function(){C(this,arguments).event(b).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},_.scaleBy=function(v,R,k,b){_.scaleTo(v,function(){var S=this.__zoom.k,$=typeof R=="function"?R.apply(this,arguments):R;return S*$},k,b)},_.scaleTo=function(v,R,k,b){_.transform(v,function(){var S=t.apply(this,arguments),$=this.__zoom,x=k==null?y(S):typeof k=="function"?k.apply(this,arguments):k,N=$.invert(x),A=typeof R=="function"?R.apply(this,arguments):R;return n(O(z($,A),x,N),S,l)},k,b)},_.translateBy=function(v,R,k,b){_.transform(v,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),l)},null,b)},_.translateTo=function(v,R,k,b,S){_.transform(v,function(){var $=t.apply(this,arguments),x=this.__zoom,N=b==null?y($):typeof b=="function"?b.apply(this,arguments):b;return n(bt.translate(N[0],N[1]).scale(x.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof k=="function"?-k.apply(this,arguments):-k),$,l)},b,S)};function z(v,R){return R=Math.max(a[0],Math.min(a[1],R)),R===v.k?v:new fe(R,v.x,v.y)}function O(v,R,k){var b=R[0]-k[0]*v.k,S=R[1]-k[1]*v.k;return b===v.x&&S===v.y?v:new fe(v.k,b,S)}function y(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function M(v,R,k,b){v.on("start.zoom",function(){C(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(b).end()}).tween("zoom",function(){var S=this,$=arguments,x=C(S,$).event(b),N=t.apply(S,$),A=k==null?y(N):typeof k=="function"?k.apply(S,$):k,F=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),B=S.__zoom,E=typeof R=="function"?R.apply(S,$):R,P=c(B.invert(A).concat(F/B.k),E.invert(A).concat(F/E.k));return function(W){if(W===1)W=E;else{var V=P(W),K=F/V[2];W=new fe(K,A[0]-V[0]*K,A[1]-V[1]*K)}x.zoom(null,W)}})}function C(v,R,k){return!k&&v.__zooming||new T(v,R)}function T(v,R){this.that=v,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,R),this.taps=0}T.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,R){return this.mouse&&v!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var R=ne(this.that).datum();u.call(v,this.that,new us(v,{sourceEvent:this.sourceEvent,target:_,type:v,transform:this.that.__zoom,dispatch:u}),R)}};function H(v,...R){if(!e.apply(this,arguments))return;var k=C(this,R).event(v),b=this.__zoom,S=Math.max(a[0],Math.min(a[1],b.k*Math.pow(2,o.apply(this,arguments)))),$=ae(v);if(k.wheel)(k.mouse[0][0]!==$[0]||k.mouse[0][1]!==$[1])&&(k.mouse[1]=b.invert(k.mouse[0]=$)),clearTimeout(k.wheel);else{if(b.k===S)return;k.mouse=[$,b.invert($)],xt(this),k.start()}Xe(v),k.wheel=setTimeout(x,g),k.zoom("mouse",n(O(z(b,S),k.mouse[0],k.mouse[1]),k.extent,l));function x(){k.wheel=null,k.end()}}function D(v,...R){if(h||!e.apply(this,arguments))return;var k=v.currentTarget,b=C(this,R,!0).event(v),S=ne(v.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",F,!0),$=ae(v,k),x=v.clientX,N=v.clientY;ao(v.view),un(v),b.mouse=[$,this.__zoom.invert($)],xt(this),b.start();function A(B){if(Xe(B),!b.moved){var E=B.clientX-x,P=B.clientY-N;b.moved=E*E+P*P>f}b.event(B).zoom("mouse",n(O(b.that.__zoom,b.mouse[0]=ae(B,k),b.mouse[1]),b.extent,l))}function F(B){S.on("mousemove.zoom mouseup.zoom",null),lo(B.view,b.moved),Xe(B),b.event(B).end()}}function G(v,...R){if(!!e.apply(this,arguments)){var k=this.__zoom,b=ae(v.changedTouches?v.changedTouches[0]:v,this),S=k.invert(b),$=k.k*(v.shiftKey?.5:2),x=n(O(z(k,$),b,S),t.apply(this,R),l);Xe(v),s>0?ne(this).transition().duration(s).call(M,x,b,v):ne(this).call(_.transform,x,b,v)}}function L(v,...R){if(!!e.apply(this,arguments)){var k=v.touches,b=k.length,S=C(this,R,v.changedTouches.length===b).event(v),$,x,N,A;for(un(v),x=0;x<b;++x)N=k[x],A=ae(N,this),A=[A,this.__zoom.invert(A),N.identifier],S.touch0?!S.touch1&&S.touch0[2]!==A[2]&&(S.touch1=A,S.taps=0):(S.touch0=A,$=!0,S.taps=1+!!d);d&&(d=clearTimeout(d)),$&&(S.taps<2&&(m=A[0],d=setTimeout(function(){d=null},p)),xt(this),S.start())}}function Y(v,...R){if(!!this.__zooming){var k=C(this,R).event(v),b=v.changedTouches,S=b.length,$,x,N,A;for(Xe(v),$=0;$<S;++$)x=b[$],N=ae(x,this),k.touch0&&k.touch0[2]===x.identifier?k.touch0[0]=N:k.touch1&&k.touch1[2]===x.identifier&&(k.touch1[0]=N);if(x=k.that.__zoom,k.touch1){var F=k.touch0[0],B=k.touch0[1],E=k.touch1[0],P=k.touch1[1],W=(W=E[0]-F[0])*W+(W=E[1]-F[1])*W,V=(V=P[0]-B[0])*V+(V=P[1]-B[1])*V;x=z(x,Math.sqrt(W/V)),N=[(F[0]+E[0])/2,(F[1]+E[1])/2],A=[(B[0]+P[0])/2,(B[1]+P[1])/2]}else if(k.touch0)N=k.touch0[0],A=k.touch0[1];else return;k.zoom("touch",n(O(x,N,A),k.extent,l))}}function I(v,...R){if(!!this.__zooming){var k=C(this,R).event(v),b=v.changedTouches,S=b.length,$,x;for(un(v),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),$=0;$<S;++$)x=b[$],k.touch0&&k.touch0[2]===x.identifier?delete k.touch0:k.touch1&&k.touch1[2]===x.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(x=ae(x,this),Math.hypot(m[0]-x[0],m[1]-x[1])<w)){var N=ne(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return _.wheelDelta=function(v){return arguments.length?(o=typeof v=="function"?v:_t(+v),_):o},_.filter=function(v){return arguments.length?(e=typeof v=="function"?v:_t(!!v),_):e},_.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:_t(!!v),_):i},_.extent=function(v){return arguments.length?(t=typeof v=="function"?v:_t([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),_):t},_.scaleExtent=function(v){return arguments.length?(a[0]=+v[0],a[1]=+v[1],_):[a[0],a[1]]},_.translateExtent=function(v){return arguments.length?(l[0][0]=+v[0][0],l[1][0]=+v[1][0],l[0][1]=+v[0][1],l[1][1]=+v[1][1],_):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},_.constrain=function(v){return arguments.length?(n=v,_):n},_.duration=function(v){return arguments.length?(s=+v,_):s},_.interpolate=function(v){return arguments.length?(c=v,_):c},_.on=function(){var v=u.on.apply(u,arguments);return v===u?_:v},_.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,_):Math.sqrt(f)},_.tapDistance=function(v){return arguments.length?(w=+v,_):w},_}var U=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(U||{}),Do=(e=>(e.Lines="lines",e.Dots="dots",e))(Do||{}),ve=(e=>(e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(ve||{}),xe=(e=>(e.Strict="strict",e.Loose="loose",e))(xe||{}),Vo=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Vo||{}),Ye=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Ye||{});const dn=Symbol("vueFlow"),fn=Symbol("nodeId"),kt=Symbol("slots"),ys=()=>({edgesChange:Z(),nodesChange:Z(),nodeDoubleClick:Z(),nodeClick:Z(),nodeMouseEnter:Z(),nodeMouseMove:Z(),nodeMouseLeave:Z(),nodeContextMenu:Z(),nodeDragStart:Z(),nodeDrag:Z(),nodeDragStop:Z(),miniMapNodeClick:Z(),miniMapNodeDoubleClick:Z(),miniMapNodeMouseEnter:Z(),miniMapNodeMouseMove:Z(),miniMapNodeMouseLeave:Z(),connect:Z(),connectStart:Z(),connectStop:Z(),connectEnd:Z(),paneReady:Z(),move:Z(),moveStart:Z(),moveEnd:Z(),selectionDragStart:Z(),selectionDrag:Z(),selectionDragStop:Z(),selectionContextMenu:Z(),paneScroll:Z(),paneClick:Z(),paneContextMenu:Z(),paneMouseEnter:Z(),paneMouseMove:Z(),paneMouseLeave:Z(),edgeContextMenu:Z(),edgeMouseEnter:Z(),edgeMouseMove:Z(),edgeMouseLeave:Z(),edgeDoubleClick:Z(),edgeClick:Z(),edgeUpdateStart:Z(),edgeUpdate:Z(),edgeUpdateEnd:Z(),updateNodeInternals:Z()});var ws=(e,t)=>{r.onBeforeMount(()=>{for(const[n,o]of Object.entries(t.value)){const i=a=>{e(n,a)};o.on(i),Oe(()=>{o.off(i)})}})};const vs=["data-handleid","data-nodeid","data-handlepos"],xs={name:"Handle"},Ge=r.defineComponent({...xs,props:{id:null,type:{default:"source"},position:{default:()=>"top"},isValidConnection:{type:Function,default:()=>function(){return!0}},connectable:{type:Boolean,default:!0}},setup(e){const t=q(),n=r.toRef(t,"connectionStartHandle"),o=r.toRef(t,"connectionMode"),i=r.inject(fn,""),a=r.computed(()=>{var m;return(m=e.id)!=null?m:o.value===xe.Strict?null:`${i}__handle-${e.position}`}),{onMouseDown:l,onClick:s}=Mn(),c=m=>{l(m,a.value,i,e.type==="target",e.isValidConnection,void 0)},u=m=>{var h;s(m,(h=a.value)!=null?h:null,i,e.type,e.isValidConnection)},d=r.computed(()=>["vue-flow__handle",`vue-flow__handle-${e.position}`,`vue-flow__handle-${a.value}`,"nodrag",{source:e.type!=="target",target:e.type==="target",connectable:e.connectable,connecting:n.value&&n.value.nodeId===i&&n.value.handleId===a.value&&n.value.type===e.type}]);return(m,h)=>(r.openBlock(),r.createElementBlock("div",{"data-handleid":a.value,"data-nodeid":r.unref(i),"data-handlepos":e.position,class:r.normalizeClass(r.unref(d)),onMousedown:c,onClick:u},[r.renderSlot(m.$slots,"default",{id:e.id})],42,vs))}}),hn=function({sourcePosition:e=U.Bottom,targetPosition:t=U.Top,label:n,connectable:o=!1,isValidTargetPos:i,isValidSourcePos:a}){return[r.h(Ge,{type:"target",position:t,isConnectable:o,isValidConnection:i}),typeof n!="string"&&n?r.h(n):r.h("div",{innerHTML:n}),r.h(Ge,{type:"source",position:e,isConnectable:o,isValidConnection:a})]};hn.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"],hn.inheritAttrs=!1;const mn=function({sourcePosition:e=U.Bottom,label:t,connectable:n=!1,isValidSourcePos:o}){return[typeof t!="string"&&t?r.h(t):r.h("div",{innerHTML:t}),r.h(Ge,{type:"source",position:e,isConnectable:n,isValidConnection:o})]};mn.props=["sourcePosition","label","isValidSourcePos","connectable"],mn.inheritAttrs=!1;const gn=function({targetPosition:e=U.Top,label:t,connectable:n=!1,isValidTargetPos:o}){return[r.h(Ge,{type:"target",position:e,isConnectable:n,isValidConnection:o}),typeof t!="string"&&t?r.h(t):r.h("div",{innerHTML:t})]};gn.props=["targetPosition","label","isValidTargetPos","connectable"],gn.inheritAttrs=!1;const pn=e=>({width:e.offsetWidth,height:e.offsetHeight}),Nt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),yn=(e,t)=>({x:Nt(e.x,t[0][0],t[1][0]),y:Nt(e.y,t[0][1],t[1][1])}),Ho=e=>{const t=e.getRootNode(),n=Re();return"elementFromPoint"in t?t:n.document},ce=e=>"id"in e&&"source"in e&&"target"in e,We=e=>ce(e)&&"sourceNode"in e&&"targetNode"in e,Et=e=>"id"in e&&!ce(e),me=e=>Et(e)&&"computedPosition"in e,_s=(e,t,n)=>{var i;let o=n;return me(e)||(o={type:(i=e.type)!=null?i:"default",dimensions:r.markRaw({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:r.markRaw({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,...n}),{...o,...e,id:e.id.toString()}},wn=(e,t)=>(t=We(e)?t:{sourceHandle:e.sourceHandle?e.sourceHandle.toString():void 0,targetHandle:e.targetHandle?e.targetHandle.toString():void 0,type:e.type,source:e.source.toString(),target:e.target.toString(),z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,updatable:e.updatable,selectable:e.selectable,data:e.data,...t},Object.assign({id:e.id.toString()},e,t)),Lo=(e,t,n)=>{if(!Et(e))return[];const o=n==="source"?"target":"source",i=t.filter(a=>ce(a)&&a[o]===e.id).map(a=>ce(a)&&a[n]);return t.filter(a=>i.includes(a.id))},bs=(e,t)=>Lo(e,t,"target"),ks=(e,t)=>Lo(e,t,"source"),St=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`vueflow__edge-${e}${t!=null?t:""}-${n}${o!=null?o:""}`,vn=(e,t)=>t.some(n=>ce(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Ns=(e,t,n)=>{if(!e.source||!e.target)return console.warn("[vueflow]: Can't create edge. An edge needs a source and a target."),t;let o;return ce(e)?o={...e}:o={...e,id:St(e)},o=wn(o,n),vn(o,t)||t.push(o),t},Es=(e,t,n)=>{if(!t.source||!t.target)return console.warn("[vueflow]: Can't create new edge. An edge needs a source and a target."),n;const o=n.find(a=>ce(a)&&a.id===e.id);if(!o)return console.warn(`[vueflow]: The old edge with id=${e.id} does not exist.`),n;const i={...e,id:St(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(o),1,i),n.filter(a=>a.id!==e.id)},xn=({x:e,y:t},{x:n,y:o,zoom:i},a,[l,s])=>{const c={x:(e-n)/i,y:(t-o)/i};return a?{x:l*Math.round(c.x/l),y:s*Math.round(c.y/s)}:c},Fo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Be=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Zo=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Ss=(e,t)=>Zo(Fo(Be(e),Be(t))),Ct=e=>{const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:i={width:0,height:0}}={})=>Fo(n,Be({...o,...i})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zo(t)},Cs=({x:e,y:t},{x:n,y:o,zoom:i})=>({x:e*i+n,y:t*i+o}),_n=(e,t,{x:n,y:o,zoom:i}={x:0,y:0,zoom:1},a=!1)=>{const l=Be({x:(t.x-n)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i});return e.filter(s=>{if(!s||s.selectable===!1)return!1;const{computedPosition:c={x:0,y:0},dimensions:u={width:0,height:0}}=s,d=Be({...c,...u}),m=Math.max(0,Math.min(l.x2,d.x2)-Math.max(l.x,d.x)),h=Math.max(0,Math.min(l.y2,d.y2)-Math.max(l.y,d.y)),p=Math.ceil(m*h),g=typeof u.width=="undefined"||typeof u.height=="undefined"||u.width===0||u.height===0,f=a&&p>0,w=u.width*u.height;return g||f||p>=w})},J=(e,t)=>{const n=e.map(o=>o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))},bn=(e,t,n,o,i,a=.1,l={x:0,y:0})=>{var f,w;const s=t/(e.width*(1+a)),c=n/(e.height*(1+a)),u=Math.min(s,c),d=Nt(u,o,i),m=e.x+e.width/2,h=e.y+e.height/2,p=t/2-m*d+((f=l.x)!=null?f:0),g=n/2-h*d+((w=l.y)!=null?w:0);return{x:p,y:g,zoom:d}},Ms=(e,t)=>({x:t.x+e.x,y:t.y+e.y,z:e.z>t.z?e.z:t.z}),Uo=(e,t)=>{if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Uo(n,t):!1},ge=e=>typeof e=="undefined"?"":typeof e=="string"?e:Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&"),Xo=(e,t,n)=>{var s,c,u,d;const o=((s=n==null?void 0:n.x)!=null?s:0)+t.x,i=((c=n==null?void 0:n.y)!=null?c:0)+t.y,a=(u=n==null?void 0:n.width)!=null?u:t.width,l=(d=n==null?void 0:n.height)!=null?d:t.height;switch(e){case U.Top:return{x:o+a/2,y:i};case U.Right:return{x:o+a,y:i+l/2};case U.Bottom:return{x:o+a/2,y:i+l};case U.Left:return{x:o,y:i+l/2}}},Yo=(e=[],t)=>{if(!e.length)return;let n;return!t&&e.length===1?n=e[0]:t&&(n=e.find(o=>o.id===t)),n||e[0]},$s=(e,t,n,o,i,a)=>{const l=Xo(n,{...e.dimensions,...e.computedPosition},t),s=Xo(a,{...o.dimensions,...o.computedPosition},i);return{sourceX:l.x,sourceY:l.y,targetX:s.x,targetY:s.y}};function Bs({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:a,width:l,height:s,viewport:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Be({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:l/c.zoom,height:s/c.zoom}),m=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(m*h)>0}const Rs=(e,t)=>{let n=-1;const o=e.reduce((i,a)=>{const l=t(a.source),s=t(a.target);if(!l||!s)return i;const c=a.z?a.z:Math.max(l.computedPosition.z||0,s.computedPosition.z||0);return i[c]?i[c].push(a):i[c]=[a],n=c>n?c:n,i},{});return Object.entries(Object.keys(o).length?o:{0:[]}).map(([i,a])=>{const l=+i;return{edges:a,level:l,isMaxLevel:l===n}})},Mt=(e,t,n)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return;const i=Array.from(o),a=t.getBoundingClientRect();return i.map(l=>{const s=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(s.left-a.left)/n,y:(s.top-a.top)/n,...pn(l)}})},Go=(e,t,n,o,i)=>{i.value=!1,e.selected?e.selected&&t&&o({nodes:[e]}):n([e])};function Wo(e,t){var n,o;if(t){const i=e.position.x+e.dimensions.width-t.dimensions.width,a=e.position.y+e.dimensions.height-t.dimensions.height;if(i>0||a>0||e.position.x<0||e.position.y<0){if(t.style={...t.style},t.style.width=(n=t.style.width)!=null?n:t.dimensions.width,t.style.height=(o=t.style.height)!=null?o:t.dimensions.height,i>0)if(typeof t.style.width=="string"){const l=parseInt(t.style.width,10);t.style.width=`${l+i}px`}else t.style.width+=i;if(a>0)if(typeof t.style.height=="string"){const l=parseInt(t.style.height,10);t.style.height=`${l+a}px`}else t.style.height+=a;if(e.position.x<0){const l=Math.abs(e.position.x);if(t.position.x=t.position.x-l,typeof t.style.width=="string"){const s=parseInt(t.style.width,10);t.style.width=`${s+l}px`}else t.style.width+=l;e.position.x=0}if(e.position.y<0){const l=Math.abs(e.position.y);if(t.position.y=t.position.y-l,typeof t.style.height=="string"){const s=parseInt(t.style.height,10);t.style.height=`${s+l}px`}else t.style.height+=l;e.position.y=0}}}}const Ke=(e,t)=>{let n=t.map(o=>o.id);return e.forEach(o=>{if(o.type==="add"){const l=o.item;return t.push(l)}const i=n.indexOf(o.id),a=t[i];switch(o.type){case"select":(me(a)||We(a))&&(a.selected=o.selected);break;case"position":if(me(a)&&(typeof o.position!="undefined"&&(a.position=o.position),typeof o.computedPosition!="undefined"&&(a.computedPosition={...a.computedPosition,...o.computedPosition}),a.expandParent&&a.parentNode)){const l=t[n.indexOf(a.parentNode)];l&&me(l)&&Wo(a,l)}break;case"dimensions":if(me(a)&&(typeof o.dimensions!="undefined"&&(a.dimensions=o.dimensions),a.expandParent&&a.parentNode)){const l=t[n.indexOf(a.parentNode)];l&&me(l)&&Wo(a,l)}break;case"remove":n.includes(o.id)&&(t.splice(i,1),n=t.map(l=>l.id));break}}),t},zs=(e,t)=>Ke(e,t),Os=(e,t)=>Ke(e,t),$t=(e,t)=>({id:e,type:"select",selected:t}),Ko=e=>({item:e,type:"add"}),kn=e=>({id:e,type:"remove"}),qo=(e,t)=>e.reduce((n,o)=>{const i=t.includes(o.id);return!o.selected&&i?(o.selected=!0,n.push($t(o.id,!0))):o.selected&&!i&&(o.selected=!1,n.push($t(o.id,!1))),n},[]),Ps=e=>typeof e!="undefined",Ts=(e,t)=>{if(!e.source||!e.target)return console.warn("[vueflow]: Can't create edge. An edge needs a source and a target."),!1;let n;return ce(e)?n={...e}:n={...e,id:St(e)},n=wn(n),vn(n,t)?!1:n},Is=(e,t,n,o)=>{if(!t.source||!t.target)return console.warn("[vueflow]: Can't create new edge. An edge needs a source and a target."),!1;if(!n.find(l=>We(l)&&l.id===e.id))return console.warn(`[vueflow]: The old edge with id=${e.id} does not exist.`),!1;n.splice(n.indexOf(e),1);const a={...e,id:St(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return o([a]),a},jo=(e,t,n,o)=>{const i={},a=e.map(l=>{const s=r.shallowReactive(_s(l,o,{...t(l.id),parentNode:l.parentNode}));return l.parentNode&&(i[l.parentNode]=!0),s});return a.forEach(l=>{const s=[...a,...n];if(l.parentNode&&!s.find(c=>c.id===l.parentNode)&&console.warn(`[vueflow]: Parent node ${l.parentNode} not found`),l.parentNode||i[l.id]){i[l.id]&&(l.isParent=!0);const c=l.parentNode?t(l.parentNode):void 0;c&&(c.isParent=!0)}}),a},As=["data-id"],Ds={name:"Node",inheritAttrs:!1},Vs=r.defineComponent({...Ds,props:{id:null,draggable:{type:Boolean},selectable:{type:Boolean},connectable:{type:Boolean},snapGrid:null,type:{type:[null,Function,Object,Boolean]},name:null,node:null},setup(e){const t=r.createPropsRestProxy(e,["id","type","name","draggable","selectable","connectable","snapGrid"]);r.provide(fn,e.id);const n=q();r.toRef(n,"nodeExtent");const o=r.toRef(n,"edges"),i=r.toRef(n,"viewport"),a=r.toRef(n,"noPanClassName"),l=r.toRef(n,"selectNodesOnDrag"),s=r.toRef(n,"nodesSelectionActive"),c=r.toRef(n,"multiSelectionActive"),u=r.toRef(n,"emits"),d=r.toRef(n,"getNode"),m=r.toRef(n,"removeSelectedElements"),h=r.toRef(n,"addSelectedNodes"),p=r.toRef(n,"updateNodeDimensions"),g=r.toRef(n,"onUpdateNodeInternals"),f=nt(t,"node"),w=r.computed(()=>f.value.parentNode?d.value(f.value.parentNode):void 0),_=r.ref(),{emit:z,on:O}=gc(f.value,u.value);let y=r.effectScope();const M=hi({id:e.id,el:_,disabled:r.computed(()=>!e.draggable),onStart(b,S,$){z.dragStart({event:b,node:S,nodes:$})},onDrag(b,S,$){z.drag({event:b,node:S,nodes:$})},onStop(b,S,$){z.dragStop({event:b,node:S,nodes:$})}}),C=Fn(_,()=>{p.value([{id:e.id,nodeElement:_.value}])},{box:"content-box"}),T=(b,S)=>{S?f.value.computedPosition=Ms({x:S.x,y:S.y,z:S.z},b):f.value.computedPosition=b},H=()=>{_.value&&p.value([{id:e.id,nodeElement:_.value,forceUpdate:!0}]),T({x:f.value.position.x,y:f.value.position.y,z:f.value.computedPosition.z?f.value.computedPosition.z:f.value.selected?1e3:0},w.value?{...w.value.computedPosition}:void 0)};g.value(b=>{b.includes(e.id)&&H()}),r.onMounted(()=>{H(),y||(y=r.effectScope()),y.run(()=>{r.watch([()=>f.value.width,()=>f.value.height,()=>f.value.type,()=>f.value.sourcePosition,()=>f.value.targetPosition],()=>{p.value([{id:e.id,nodeElement:_.value,forceUpdate:!0}])},{flush:"post"}),r.watch([()=>f.value.position.x,()=>f.value.position.y,()=>{var b;return(b=w.value)==null?void 0:b.computedPosition.x},()=>{var b;return(b=w.value)==null?void 0:b.computedPosition.y},()=>{var b;return(b=w.value)==null?void 0:b.computedPosition.z},()=>f.value.selected,()=>f.value.dimensions,()=>{var b;return(b=w.value)==null?void 0:b.dimensions}],([b,S,$,x,N])=>{const A={x:b,y:S,z:f.value.selected?1e3:0};T(A,$&&x?{x:$,y:x,z:N}:void 0),f.value.handleBounds={source:Mt(".source",_.value,i.value.zoom),target:Mt(".target",_.value,i.value.zoom)}},{flush:"post"})})}),r.onBeforeUnmount(()=>{C.stop(),y==null||y.stop(),y=void 0});const D=b=>{M!=null&&M.value||z.mouseEnter({event:b,node:f.value,connectedEdges:J([f.value],o.value)})},G=b=>{M!=null&&M.value||z.mouseMove({event:b,node:f.value,connectedEdges:J([f.value],o.value)})},L=b=>{M!=null&&M.value||z.mouseLeave({event:b,node:f.value,connectedEdges:J([f.value],o.value)})},Y=b=>{z.contextMenu({event:b,node:f.value,connectedEdges:J([f.value],o.value)})},I=b=>{z.doubleClick({event:b,node:f.value,connectedEdges:J([f.value],o.value)})},v=b=>{e.selectable&&(!l.value||!e.draggable)&&Go(f.value,c.value,h.value,m.value,s),z.click({event:b,node:f.value,connectedEdges:J([f.value],o.value)})},R=r.computed(()=>f.value.class instanceof Function?f.value.class(f.value):f.value.class),k=r.computed(()=>{const b=(f.value.style instanceof Function?f.value.style(f.value):f.value.style)||{},S=f.value.width instanceof Function?f.value.width(f.value):f.value.width,$=f.value.height instanceof Function?f.value.height(f.value):f.value.height;return S&&(b.width=typeof S=="string"?S:`${S}px`),$&&(b.height=typeof $=="string"?$:`${$}px`),b});return(b,S)=>{var $;return r.openBlock(),r.createElementBlock("div",{ref_key:"nodeElement",ref:_,class:r.normalizeClass(["vue-flow__node",[`vue-flow__node-${e.name}`,a.value,{dragging:r.unref(M),selected:f.value.selected,selectable:e.selectable},r.unref(R)]]),style:r.normalizeStyle({zIndex:($=f.value.computedPosition.z)!=null?$:0,transform:`translate(${f.value.computedPosition.x}px,${f.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",...r.unref(k)}),"data-id":f.value.id,onMouseenter:D,onMousemove:G,onMouseleave:L,onContextmenu:Y,onClick:v,onDblclick:I},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.type),{id:f.value.id,type:f.value.type,data:f.value.data,events:{...f.value.events,...r.unref(O)},selected:!!f.value.selected,connectable:e.connectable,position:f.value.position,dimensions:f.value.dimensions,"is-valid-target-pos":f.value.isValidTargetPos,"is-valid-source-pos":f.value.isValidSourcePos,"parent-node":f.value.parentNode,dragging:r.unref(M),"z-index":f.value.computedPosition.z,"target-position":f.value.targetPosition,"source-position":f.value.sourcePosition,label:f.value.label,"drag-handle":f.value.dragHandle,onUpdateNodeInternals:H},null,40,["id","type","data","events","selected","connectable","position","dimensions","is-valid-target-pos","is-valid-source-pos","parent-node","dragging","z-index","target-position","source-position","label","drag-handle"]))],46,As)}}}),Hs=["transform"],Ls=["width","height","x","y","rx","ry"],Fs=["y"],Zs={name:"EdgeText"},Qo=r.defineComponent({...Zs,props:{x:null,y:null,label:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=Zt("el",null);let n=r.ref({x:0,y:0,width:0,height:0});r.onMounted(()=>{n.value=t.value.getBBox()});const o=r.computed(()=>`translate(${e.x-n.value.width/2} ${e.y-n.value.height/2})`);return(i,a)=>(r.openBlock(),r.createElementBlock("g",{transform:r.unref(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(r.openBlock(),r.createElementBlock("rect",{key:0,class:"vue-flow__edge-textbg",width:`${n.value.width+2*e.labelBgPadding[0]}px`,height:`${n.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:r.normalizeStyle(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,Ls)):r.createCommentVNode("",!0),r.createElementVNode("text",r.mergeProps(i.$attrs,{ref:"el",class:"vue-flow__edge-text",y:n.value.height/2,dy:"0.3em",style:e.labelStyle}),[r.renderSlot(i.$slots,"default",{},()=>[typeof e.label!="string"&&typeof e.label?(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.label),{key:0})):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(e.label),1)],64))])],16,Fs)],8,Hs))}}),_e=function({path:e,centerX:t,centerY:n,label:o,labelBgBorderRadius:i,labelBgPadding:a,labelBgStyle:l,labelShowBg:s,labelStyle:c,markerStart:u,markerEnd:d,style:m}){return[r.h("path",{style:{...m},d:e,class:"vue-flow__edge-path","marker-end":d,"marker-start":u}),o?r.h(Qo,{x:t,y:n,label:o,labelStyle:c,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:i}):null]};_e.props=["path","centerX","centerY","label","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelShowBg","labelStyle","markerStart","markerEnd","style"],_e.inheritAttrs=!1;function Bt(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Rt({pos:e,x1:t,y1:n,x2:o,y2:i,c:a}){let l,s;switch(e){case U.Left:l=t-Bt(t-o,a),s=n;break;case U.Right:l=t+Bt(o-t,a),s=n;break;case U.Top:l=t,s=n-Bt(n-i,a);break;case U.Bottom:l=t,s=n+Bt(i-n,a);break}return[l,s]}function Nn({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:o,targetY:i,targetPosition:a=U.Top,curvature:l=.25}){const[s,c]=Rt({pos:n,x1:e,y1:t,x2:o,y2:i,c:l}),[u,d]=Rt({pos:a,x1:o,y1:i,x2:e,y2:t,c:l});return`M${e},${t} C${s},${c} ${u},${d} ${o},${i}`}function Jo({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:o,targetY:i,targetPosition:a=U.Top,curvature:l=.25}){const[s,c]=Rt({pos:n,x1:e,y1:t,x2:o,y2:i,c:l}),[u,d]=Rt({pos:a,x1:o,y1:i,x2:e,y2:t,c:l}),m=e*.125+s*.375+u*.375+o*.125,h=t*.125+c*.375+d*.375+i*.125,p=Math.abs(m-e),g=Math.abs(h-t);return[m,h,p,g]}function zt({pos:e,x1:t,y1:n,x2:o,y2:i}){let a,l;switch(e){case U.Left:case U.Right:a=.5*(t+o),l=n;break;case U.Top:case U.Bottom:a=t,l=.5*(n+i);break}return[a,l]}function ei({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:o,targetY:i,targetPosition:a=U.Top}){const[l,s]=zt({pos:n,x1:e,y1:t,x2:o,y2:i}),[c,u]=zt({pos:a,x1:o,y1:i,x2:e,y2:t});return`M${e},${t} C${l},${s} ${c},${u} ${o},${i}`}function ti({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:o,targetY:i,targetPosition:a=U.Top}){const[l,s]=zt({pos:n,x1:e,y1:t,x2:o,y2:i}),[c,u]=zt({pos:a,x1:o,y1:i,x2:e,y2:t}),d=e*.125+l*.375+c*.375+o*.125,m=t*.125+s*.375+u*.375+i*.125,h=Math.abs(d-e),p=Math.abs(m-t);return[d,m,h,p]}const ni=[U.Left,U.Right],En=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:i=U.Bottom,targetPosition:a=U.Top})=>{const l=ni.includes(i),s=ni.includes(a);if(l&&!s||s&&!l){const p=l?Math.abs(n-e):0,g=e>n?e-p:e+p,f=l?0:Math.abs(o-t),w=t<o?t+f:t-f;return[g,w,p,f]}const u=Math.abs(n-e)/2,d=n<e?n+u:n-u,m=Math.abs(o-t)/2,h=o<t?o+m:o-m;return[d,h,u,m]},oi={[U.Left]:{x:-1,y:0},[U.Right]:{x:1,y:0},[U.Top]:{x:0,y:-1},[U.Bottom]:{x:0,y:1}},Us=({source:e,sourcePosition:t=U.Bottom,target:n})=>t===U.Left||t===U.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ii=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2);function Xs({source:e,sourcePosition:t=U.Bottom,target:n,targetPosition:o=U.Top,center:i,offset:a}){const l=oi[t],s=oi[o],c={x:e.x+l.x*a,y:e.y+l.y*a},u={x:n.x+s.x*a,y:n.y+s.y*a},d=Us({source:c,sourcePosition:t,target:u}),m=d.x!==0?"x":"y",h=d[m];let p=[];if(l[m]*s[m]===-1){const g=[{x:i.x,y:c.y},{x:i.x,y:u.y}],f=[{x:c.x,y:i.y},{x:u.x,y:i.y}];l[m]===h?p=m==="x"?g:f:p=m==="x"?f:g}else{const g=[{x:c.x,y:u.y}],f=[{x:u.x,y:c.y}];if(m==="x"?p=l.x===h?f:g:p=l.y===h?g:f,t!==o){const w=m==="x"?"y":"x",_=l[m]===s[w],z=c[w]>u[w],O=c[w]<u[w];(l[m]===1&&(!_&&z||_&&O)||l[m]!==1&&(!_&&O||_&&z))&&(p=m==="x"?g:f)}}return[e,c,...p,u,n]}function Ys(e,t,n,o){const i=Math.min(ii(e,t)/2,ii(t,n)/2,o),{x:a,y:l}=t;if(e.x===a&&a===n.x||e.y===l&&l===n.y)return`L${a} ${l}`;if(e.y===l){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+i*u},${l}Q ${a},${l} ${a},${l+i*d}`}const s=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${l+i*c}Q ${a},${l} ${a+i*s},${l}`}function Ot({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:o,targetY:i,targetPosition:a=U.Top,borderRadius:l=5,centerX:s,centerY:c,offset:u=20}){const[d,m]=En({sourceX:e,sourceY:t,targetX:o,targetY:i}),g=Xs({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:i},targetPosition:a,center:{x:typeof s!="undefined"?s:d,y:typeof c!="undefined"?c:m},offset:u});return g.reduce((f,w,_)=>{let z="";return _>0&&_<g.length-1?z=Ys(g[_-1],w,g[_+1],l):z=`${_===0?"M":"L"}${w.x} ${w.y}`,f+=z,f},"")}const Pt=function({sourcePosition:e=U.Bottom,targetPosition:t=U.Top,label:n,labelStyle:o={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:l,labelBgBorderRadius:s,sourceY:c,sourceX:u,targetX:d,targetY:m,curvature:h,markerEnd:p,markerStart:g,style:f}){const[w,_]=Jo({sourceX:u,sourceY:c,targetX:d,targetY:m,sourcePosition:e,targetPosition:t,curvature:h}),z=Nn({sourceX:u,sourceY:c,targetX:d,targetY:m,sourcePosition:e,targetPosition:t,curvature:h});return r.h(_e,{path:z,centerX:w,centerY:_,label:n,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:s,style:f,markerEnd:p,markerStart:g})};Pt.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","style"],Pt.inheritAttrs=!1;const Tt=function({sourcePosition:e=U.Bottom,targetPosition:t=U.Top,label:n,labelStyle:o={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:l,labelBgBorderRadius:s,sourceY:c,sourceX:u,targetX:d,targetY:m,markerEnd:h,markerStart:p,style:g}){const[f,w]=ti({sourceX:u,sourceY:c,targetX:d,targetY:m,sourcePosition:e,targetPosition:t}),_=ei({sourceX:u,sourceY:c,targetX:d,targetY:m,sourcePosition:e,targetPosition:t});return r.h(_e,{path:_,centerX:f,centerY:w,label:n,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:s,style:g,markerEnd:h,markerStart:p})};Tt.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],Tt.inheritAttrs=!1;const qe=function({sourcePosition:e=U.Bottom,targetPosition:t=U.Top,label:n,labelStyle:o={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:l,labelBgBorderRadius:s,sourceY:c,sourceX:u,targetX:d,targetY:m,markerEnd:h,markerStart:p,borderRadius:g,offset:f,style:w}){const[_,z]=En({sourceX:u,sourceY:c,targetX:d,targetY:m,sourcePosition:e,targetPosition:t}),O=Ot({sourceX:u,sourceY:c,targetX:d,targetY:m,sourcePosition:e,targetPosition:t,borderRadius:g,offset:f});return r.h(_e,{path:O,centerX:_,centerY:z,label:n,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:s,style:w,markerEnd:h,markerStart:p})};qe.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","offset","markerEnd","markerStart","style"],qe.inheritAttrs=!1;const It=function(e){return r.h(qe,{...e,borderRadius:0})};It.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],It.inheritAttrs=!1;const At=function({label:e,labelStyle:t={},labelShowBg:n=!0,labelBgStyle:o={},labelBgPadding:i,labelBgBorderRadius:a,sourceY:l,sourceX:s,targetX:c,targetY:u,markerEnd:d,markerStart:m,style:h}){const p=r.computed(()=>{const f=Math.abs(u-l)/2;return u<l?u+f:u-f}),g=r.computed(()=>{const f=Math.abs(c-s)/2;return c<s?c+f:c-f});return r.h(_e,{path:`M ${s},${l}L ${c},${u}`,centerX:g.value,centerY:p.value,label:e,labelStyle:t,labelShowBg:n,labelBgStyle:o,labelBgPadding:i,labelBgBorderRadius:a,style:h,markerEnd:d,markerStart:m})};At.props=["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],At.inheritAttrs=!1;const Gs=(e,t,n)=>n===U.Left?e-t:n===U.Right?e+t:e,Ws=(e,t,n)=>n===U.Top?e-t:n===U.Bottom?e+t:e,Sn=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=U.Top}){const i=r.computed(()=>{const l=Gs(t,e,o);return isNaN(l)?0:l}),a=r.computed(()=>{const l=Ws(n,e,o);return isNaN(l)?0:l});return r.h("circle",{class:"vue-flow__edgeupdater",cx:i.value,cy:a.value,r:e,stroke:"transparent",fill:"transparent"})};Sn.props=["radius","centerX","centerY","position"];const Ks=r.defineComponent({props:["name","type","id","data","events","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelStyle","labelShowBg","style","animated","label","updatable","selectable","target","source","sourceNode","targetNode","sourceHandleId","targetHandleId","selected","markerEnd","markerStart","connectionMode","edgeUpdaterRadius","updating"],emits:["source-mousedown","target-mousedown"],setup(e,{emit:t}){let n=r.ref(!1);const o=()=>n.value=!0,i=()=>n.value=!1,a=s=>{t("source-mousedown",s)},l=s=>{t("target-mousedown",s)};return()=>{var _,z;if(!e.sourceNode||!e.targetNode)return null;let s;e.connectionMode===xe.Strict?s=e.sourceNode.handleBounds.source:s=(_=e.sourceNode.handleBounds.source)!=null?_:e.sourceNode.handleBounds.target;const c=Yo(s,e.sourceHandleId);let u;e.connectionMode===xe.Strict?u=e.targetNode.handleBounds.target:u=(z=e.targetNode.handleBounds.target)!=null?z:e.targetNode.handleBounds.source;const d=Yo(u,e.targetHandleId),m=c?c.position:U.Bottom,h=d?d.position:U.Top,{sourceX:p,sourceY:g,targetY:f,targetX:w}=$s(e.sourceNode,c,m,e.targetNode,d,h);return r.h("g",{class:["vue-flow__edge",`vue-flow__edge-${e.name}`,{updating:n.value,selected:e.selected,animated:e.animated,inactive:!e.selectable}]},[e.updating?null:r.h(e.type,{id:e.id,sourceNode:e.sourceNode,targetNode:e.targetNode,source:e.source,target:e.target,updatable:e.updatable,selected:e.selected,animated:e.animated,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,data:e.data,events:e.events,style:e.style,markerStart:`url(#${ge(e.markerStart)})`,markerEnd:`url(#${ge(e.markerEnd)})`,sourcePosition:m,targetPosition:h,sourceX:p,sourceY:g,targetX:w,targetY:f,sourceHandleId:e.sourceHandleId,targetHandleId:e.targetHandleId}),[e.updatable==="source"||e.updatable===!0?[r.h("g",{onMousedown:a,onMouseenter:o,onMouseout:i},r.h(Sn,{position:m,centerX:p,centerY:g,radius:e.edgeUpdaterRadius}))]:null,e.updatable==="target"||e.updatable===!0?[r.h("g",{onMousedown:l,onMouseenter:o,onMouseout:i},r.h(Sn,{position:h,centerX:w,centerY:f,radius:e.edgeUpdaterRadius}))]:null]])}}}),qs={class:"vue-flow__connection"},js=["d","marker-end","marker-start"],Qs={name:"ConnectionLine"},Js=r.defineComponent({...Qs,props:{sourceNode:null},setup(e){var C,T,H,D;const t=q(),n=r.toRef(t,"getNodes"),o=r.toRef(t,"connectionHandleId"),i=r.toRef(t,"connectionHandleType"),a=r.toRef(t,"connectionPosition"),l=r.toRef(t,"connectionLineType"),s=r.toRef(t,"connectionLineStyle");r.toRef(t,"connectionNodeId");const c=r.toRef(t,"connectionLineOptions"),u=r.toRef(t,"viewport"),d=(C=r.inject(kt))==null?void 0:C["connection-line"],m=d==null?void 0:d({}),h=o.value&&i.value?(T=e.sourceNode.handleBounds[i.value])==null?void 0:T.find(G=>G.id===o.value):i.value&&((D=e.sourceNode.handleBounds[(H=i.value)!=null?H:"source"])==null?void 0:D[0]),p=h?h.x+h.width/2:e.sourceNode.dimensions.width/2,g=h?h.y+h.height/2:e.sourceNode.dimensions.height,f=e.sourceNode.computedPosition.x+p,w=e.sourceNode.computedPosition.y+g,z=(h==null?void 0:h.position)===U.Left||(h==null?void 0:h.position)===U.Right?U.Left:U.Top,O=r.computed(()=>(a.value.x-u.value.x)/u.value.zoom),y=r.computed(()=>(a.value.y-u.value.y)/u.value.zoom),M=r.computed(()=>{let G=`M${f},${w} ${O.value},${y.value}`;switch(l.value||c.value.type){case ve.Bezier:G=Nn({sourceX:f,sourceY:w,sourcePosition:h==null?void 0:h.position,targetX:O.value,targetY:y.value,targetPosition:z});break;case ve.Step:G=Ot({sourceX:f,sourceY:w,sourcePosition:h==null?void 0:h.position,targetX:O.value,targetY:y.value,targetPosition:z,borderRadius:0});break;case ve.SmoothStep:G=Ot({sourceX:f,sourceY:w,sourcePosition:h==null?void 0:h.position,targetX:O.value,targetY:y.value,targetPosition:z});break}return G});return(G,L)=>{var Y;return r.openBlock(),r.createElementBlock("g",qs,[r.unref(m)?(r.openBlock(),r.createBlock(r.resolveDynamicComponent(r.unref(d)),r.normalizeProps(r.mergeProps({key:0},{sourceX:f,sourceY:w,sourcePosition:(Y=r.unref(h))==null?void 0:Y.position,targetX:O.value,targetY:y.value,targetPosition:r.unref(z),nodes:n.value,sourceNode:e.sourceNode,sourceHandle:r.unref(h),markerEnd:`url(#${r.unref(ge)(c.value.markerEnd)})`,markerStart:`url(#${r.unref(ge)(c.value.markerStart)})`})),null,16)):(r.openBlock(),r.createElementBlock("path",{key:1,d:r.unref(M),class:r.normalizeClass(["vue-flow__connection-path",c.value.class]),style:r.normalizeStyle(s.value||c.value.style||{}),"marker-end":`url(#${r.unref(ge)(c.value.markerEnd)})`,"marker-start":`url(#${r.unref(ge)(c.value.markerStart)})`},null,14,js))])}}}),ec={name:"NodesSelection"},tc=r.defineComponent({...ec,setup(e){const t=q(),n=r.toRef(t,"emits");r.toRef(t,"setState");const o=r.toRef(t,"viewport"),i=r.toRef(t,"getSelectedNodes");r.toRef(t,"snapToGrid"),r.toRef(t,"snapGrid");const a=r.toRef(t,"noPanClassName"),l=r.ref();hi({el:l,onStart(d,m,h){n.value.selectionDragStart({event:d,node:m,nodes:h})},onDrag(d,m,h){n.value.selectionDrag({event:d,node:m,nodes:h})},onStop(d,m,h){n.value.selectionDragStop({event:d,node:m,nodes:h})}});const s=r.computed(()=>Ct(i.value)),c=r.computed(()=>({width:`${s.value.width}px`,height:`${s.value.height}px`,top:`${s.value.y}px`,left:`${s.value.x}px`})),u=d=>n.value.selectionContextMenu({event:d,nodes:i.value});return(d,m)=>(r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["vue-flow__nodesselection vue-flow__container",a.value]),style:r.normalizeStyle({transform:`translate(${o.value.x}px,${o.value.y}px) scale(${o.value.zoom})`})},[r.createElementVNode("div",{ref_key:"el",ref:l,class:"vue-flow__nodesselection-rect",style:r.normalizeStyle(r.unref(c)),onContextmenu:u},null,36)],6))}}),nc={name:"SelectionRect"},oc=r.defineComponent({...nc,props:{width:null,height:null,x:null,y:null},setup(e){return(t,n)=>(r.openBlock(),r.createElementBlock("div",{class:"vue-flow__selection",style:r.normalizeStyle({width:`${e.width}px`,height:`${e.height}px`,transform:`translate(${e.x}px, ${e.y}px)`})},null,4))}});function ri(e){const t=e.target.closest(".vue-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const ic={ref:"user-selection",class:"vue-flow__selectionpane vue-flow__container"},rc={name:"UserSelection"},ac=r.defineComponent({...rc,setup(e){const{userSelectionActive:t,nodesSelectionActive:n,getNodes:o,getEdges:i,viewport:a,addSelectedEdges:l,addSelectedNodes:s}=q(),c=Zt("user-selection",null);let u=r.ref(0),d=r.ref(0);const m=()=>({width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1});let h=r.ref(m());const p=()=>{h.value=m(),u.value=0,d.value=0,t.value=!1},g=z=>{const O=ri(z);!O||(h.value={width:0,height:0,startX:O.x,startY:O.y,x:O.x,y:O.y,draw:!0},t.value=!0,n.value=!0)},f=z=>{if(!t||!h.value.draw)return;const O=ri(z);if(!O)return;const y=h.value.startX,M=h.value.startY,C={...h.value,x:O.x<y?O.x:h.value.x,y:O.y<M?O.y:h.value.y,width:Math.abs(O.x-y),height:Math.abs(O.y-M)},T=_n(o.value,h.value,a.value),H=J(T,i.value);h.value=C,s(T),l(H),u.value=T.length,d.value=H.length},w=()=>{h.value=m(),n.value=u.value>0,t.value=!1},_=()=>{n.value=u.value>0,p()};return re(c,"mousedown",g),re(c,"mousemove",f),re(c,"click",w),re(c,"mouseup",w),re(c,"mouseleave",_),r.onBeforeUnmount(p),(z,O)=>(r.openBlock(),r.createElementBlock("div",ic,[h.value.draw?(r.openBlock(),r.createBlock(oc,{key:0,width:h.value.width,height:h.value.height,x:h.value.x,y:h.value.y},null,8,["width","height","x","y"])):r.createCommentVNode("",!0)],512))}}),ai={input:mn,default:hn,output:gn},li={default:Pt,straight:At,step:It,smoothstep:qe,simplebezier:Tt},lc=e=>typeof e!="undefined",sc=()=>({vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Ye.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultZoom:1,defaultPosition:[0,0],nodesSelectionActive:!1,userSelectionActive:!1,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:ve.Bezier,connectionLineOptions:{type:ve.Bezier,style:{}},connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN},connectionMode:xe.Loose,connectionStartHandle:null,connectOnClick:!0,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",hooks:ys(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,vueFlowVersion:"0.4.39"});var si=e=>{const t=sc();return e&&Object.keys(e).forEach(n=>{const o=e[n];lc(o)&&(t[n]=o)}),t},cc=(e,t)=>{const n=x=>{e.hooks.updateNodeInternals.trigger(x)},o=r.ref();e.hooks.paneReady.on(({id:x})=>{o.value=di(x)});const i=async()=>new Promise(x=>{o.value?x(o.value):Pe(o).not.toBeUndefined().then(()=>x(o.value))}),a=(x,N,A)=>{const F=[];x.forEach(B=>{var P,W,V,K;const E={id:B.id,type:"position",dragging:A};if(N&&(E.computedPosition=B.position,E.position=B.position,B.parentNode)){const j=t.getNode.value(B.parentNode);E.position={x:E.position.x-((W=(P=j==null?void 0:j.computedPosition)==null?void 0:P.x)!=null?W:0),y:E.position.y-((K=(V=j==null?void 0:j.computedPosition)==null?void 0:V.y)!=null?K:0)}}F.push(E)}),F!=null&&F.length&&e.hooks.nodesChange.trigger(F)},l=x=>{const N=x.reduce((A,F)=>{const B=t.getNode.value(F.id);if(B){const E=pn(F.nodeElement),P=!!(E.width&&E.height&&(B.dimensions.width!==E.width||B.dimensions.height!==E.height)||F.forceUpdate);B.handleBounds={source:Mt(".source",F.nodeElement,e.viewport.zoom),target:Mt(".target",F.nodeElement,e.viewport.zoom)},P&&(B.dimensions=E,A.push({id:B.id,type:"dimensions",dimensions:E}))}return A},[]);N.length&&e.hooks.nodesChange.trigger(N)},s=(x,N)=>{const A=x.map(B=>B.id);let F;e.multiSelectionActive?F=A.map(B=>$t(B,N)):F=qo(e.nodes,A),F.length&&e.hooks.nodesChange.trigger(F)},c=(x,N)=>{const A=x.map(B=>B.id);let F;e.multiSelectionActive?F=A.map(B=>$t(B,N)):F=qo(e.edges,A),F.length&&e.hooks.edgesChange.trigger(F)},u=x=>{s(x,!0)},d=x=>{c(x,!0)},m=x=>{u(x.filter(me)),d(x.filter(We))},h=x=>{s(x,!1)},p=x=>{c(x,!1)},g=x=>{x?(x.nodes&&h(x.nodes.filter(me)),x.edges&&p(x.edges.filter(We))):(h([]),p([]))},f=x=>{var N;(N=e.d3Zoom)==null||N.scaleExtent([x,e.maxZoom]),e.minZoom=x},w=x=>{var N;(N=e.d3Zoom)==null||N.scaleExtent([e.minZoom,x]),e.maxZoom=x},_=x=>{var N;(N=e.d3Zoom)==null||N.translateExtent(x),e.translateExtent=x},z=async x=>{if(e.nodeExtent=x,o.value){const N=t.getNodes.value.map(A=>A.id);n(N)}},O=x=>{e.nodesDraggable=x,e.nodesConnectable=x,e.elementsSelectable=x},y=(x,N)=>{if(!e.initialized&&!x.length)return;e.nodes||(e.nodes=[]);const A=x instanceof Function?x(e.nodes):x;e.nodes=jo(A,t.getNode.value,e.nodes,N!=null?N:e.nodeExtent)},M=x=>{if(!e.initialized&&!x.length)return;const N=x instanceof Function?x(e.edges):x;e.edges=N.reduce((A,F)=>{const B=t.getNode.value(F.source),E=t.getNode.value(F.target),P=!B||typeof B=="undefined",W=!E||typeof E=="undefined";if(P&&console.warn(`[vue-flow]: Couldn't create edge for source id: ${F.source}; edge id: ${F.id}`),W&&console.warn(`[vue-flow]: Couldn't create edge for target id: ${F.target}; edge id: ${F.id}`),P||W)return A;const V=t.getEdge.value(F.id);return A.push(r.shallowReactive({...wn(F,Object.assign({},V,e.defaultEdgeOptions)),sourceNode:B,targetNode:E})),A},[])},C=(x,N)=>{if(!e.initialized&&!x.length||!x)return;const A=x instanceof Function?x([...e.nodes,...e.edges]):x;y(A.filter(Et),N),M(A.filter(ce))},T=(x,N)=>{const A=x instanceof Function?x(e.nodes):x,B=jo(A,t.getNode.value,e.nodes,N!=null?N:e.nodeExtent).map(Ko);B.length&&e.hooks.nodesChange.trigger(B)},H=x=>{const A=(x instanceof Function?x(e.edges):x).reduce((F,B)=>{const E=Ts({...B,...e.defaultEdgeOptions},e.edges);if(E){const P=t.getNode.value(E.source),W=t.getNode.value(E.target),V=!P||typeof P=="undefined",K=!W||typeof W=="undefined";if(V&&console.warn(`[vueflow]: Couldn't create edge for source id: ${E.source}; edge id: ${E.id}`),K&&console.warn(`[vueflow]: Couldn't create edge for target id: ${E.target}; edge id: ${E.id}`),K||V)return F;F.push(Ko(r.shallowReactive({...E,sourceNode:P,targetNode:W})))}return F},[]);A.length&&e.hooks.edgesChange.trigger(A)},D=(x,N=!0)=>{const A=x instanceof Function?x(e.nodes):x,F=[],B=[];A.forEach(E=>{if(F.push(kn(typeof E=="string"?E:E.id)),N){const P=J([typeof E=="string"?{id:E}:E],e.edges);B.push(...P.map(W=>kn(W.id)))}}),F.length&&e.hooks.nodesChange.trigger(F),B.length&&e.hooks.edgesChange.trigger(B)},G=x=>{const N=x instanceof Function?x(e.edges):x,A=[];N.forEach(F=>{A.push(kn(typeof F=="string"?F:F.id))}),e.hooks.edgesChange.trigger(A)},L=r.computed(()=>e.nodes.map(x=>x.id)),Y=r.computed(()=>e.edges.map(x=>x.id)),I=x=>e.nodes&&!L.value.length?e.nodes.find(N=>N.id===x):e.nodes[L.value.indexOf(x)],v=x=>e.edges&&!Y.value.length?e.edges.find(N=>N.id===x):e.edges[Y.value.indexOf(x)],R=(x,N)=>Is(x,N,e.edges,H),k=x=>Ke(x,e.nodes),b=x=>Ke(x,e.edges),S=x=>{var B,E;const N=x instanceof Function?x(e):x,A=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks"];typeof N.modelValue!="undefined"&&C(N.modelValue,(B=N.nodeExtent)!=null?B:e.nodeExtent),typeof N.nodes!="undefined"&&y(N.nodes,(E=N.nodeExtent)!=null?E:e.nodeExtent),typeof N.edges!="undefined"&&M(N.edges);const F=()=>{typeof N.maxZoom!="undefined"&&w(N.maxZoom),typeof N.minZoom!="undefined"&&f(N.minZoom),typeof N.translateExtent!="undefined"&&_(N.translateExtent),typeof N.nodeExtent!="undefined"&&z(N.nodeExtent)};Object.keys(N).forEach(P=>{const W=N[P];!A.includes(P)&&Ps(W)&&(e[P]=W)}),e.d3Zoom?F():Pe(()=>e.d3Zoom).not.toBeUndefined().then(F),e.initialized||(e.initialized=!0)};return{updateNodePositions:a,updateNodeDimensions:l,setElements:C,setNodes:y,setEdges:M,addNodes:T,addEdges:H,removeNodes:D,removeEdges:G,findNode:I,findEdge:v,updateEdge:R,applyEdgeChanges:b,applyNodeChanges:k,addSelectedElements:m,addSelectedNodes:u,addSelectedEdges:d,setMinZoom:f,setMaxZoom:w,setTranslateExtent:_,setNodeExtent:z,removeSelectedElements:g,removeSelectedNodes:h,removeSelectedEdges:p,setInteractive:O,setState:S,fitView:async(x={padding:.1})=>{const{fitView:N}=await i();N(x)},zoomIn:async x=>{const{zoomIn:N}=await i();N(x)},zoomOut:async x=>{const{zoomOut:N}=await i();N(x)},zoomTo:async(x,N)=>{const{zoomTo:A}=await i();A(x,N)},setTransform:async(x,N)=>{const{setTransform:A}=await i();A(x,N)},getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),setCenter:async(x,N,A)=>{const{setCenter:F}=await i();F(x,N,A)},fitBounds:async(x,N)=>{const{fitBounds:A}=await i();A(x,N)},project:x=>xn(x,e.viewport,e.snapToGrid,e.snapGrid),toObject:()=>JSON.parse(JSON.stringify({nodes:e.nodes,edges:e.edges,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom})),updateNodeInternals:n,$reset:()=>{S(si())},$destroy:()=>{}}},uc=e=>{const t=r.computed(()=>e.nodes.map(g=>g.id)),n=r.computed(()=>e.edges.map(g=>g.id)),o=r.computed(()=>g=>e.nodes&&!t.value.length?e.nodes.find(f=>f.id===g):e.nodes[t.value.indexOf(g)]),i=r.computed(()=>g=>e.edges&&!n.value.length?e.edges.find(f=>f.id===g):e.edges[n.value.indexOf(g)]),a=r.computed(()=>{var w;const g={...li,...e.edgeTypes},f=Object.keys(g);return(w=e.edges)==null||w.forEach(_=>_.type&&!f.includes(_.type)&&(g[_.type]=_.type)),g}),l=r.computed(()=>{var w;const g={...ai,...e.nodeTypes},f=Object.keys(g);return(w=e.nodes)==null||w.forEach(_=>_.type&&!f.includes(_.type)&&(g[_.type]=_.type)),g}),s=r.computed(()=>{const g=e.nodes.filter(f=>!f.hidden);return e.onlyRenderVisibleElements?g&&_n(g,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):g!=null?g:[]}),c=(g,f,w)=>(f=f!=null?f:o.value(g.source),w=w!=null?w:o.value(g.target),!f||!w?(console.warn(`[vue-flow]: Orphaned edge ${g.id} will be removed.`),e.edges.splice(e.edges.indexOf(g),1),!0):!g.hidden&&w&&!w.hidden&&f&&!f.hidden&&f.dimensions.width&&f.dimensions.height&&w.dimensions.width&&w.dimensions.height),u=r.computed(()=>e.onlyRenderVisibleElements?e.edges.filter(g=>{const f=o.value(g.source),w=o.value(g.target);return c(g,f,w)&&Bs({sourcePos:f.computedPosition||{x:0,y:0},targetPos:w.computedPosition||{x:0,y:0},sourceWidth:f.dimensions.width,sourceHeight:f.dimensions.height,targetWidth:w.dimensions.width,targetHeight:w.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(g=>c(g))),d=r.computed(()=>[...s.value,...u.value]),m=r.computed(()=>e.nodes.filter(g=>g.selected)),h=r.computed(()=>e.edges.filter(g=>g.selected)),p=r.computed(()=>{var g,f;return[...(g=m.value)!=null?g:[],...(f=h.value)!=null?f:[]]});return{getNode:o,getEdge:i,getElements:d,getEdgeTypes:a,getNodeTypes:l,getEdges:u,getNodes:s,getSelectedElements:p,getSelectedNodes:m,getSelectedEdges:h}};class be{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return be.instance||(be.instance=new be),be.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=si(n),i=r.reactive(o),a=uc(i),l=cc(i,a),s={};Object.entries(i.hooks).forEach(([d,m])=>{const h=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;s[h]=m.on});const c={};Object.entries(i.hooks).forEach(([d,m])=>{c[d]=m.trigger}),l.setState(i),n&&(n.modelValue&&l.setElements(n.modelValue),n.nodes&&l.setNodes(n.nodes),n.edges&&l.setEdges(n.edges));const u={...s,...a,...l,...r.toRefs(i),emits:c,id:t,$destroy:()=>{this.remove(t)}};return this.set(t,u),u}getId(){return`vue-flow-${this.currentId++}`}}var q=e=>{const t=be.getInstance(),n=r.getCurrentScope(),o=e==null?void 0:e.id,i=(n==null?void 0:n.vueFlowId)||o;let a,l=!1;if(n){const s=r.inject(dn,null);typeof s!="undefined"&&s!==null&&(a=s)}if(a||i&&(a=t.get(i)),!a||a&&o&&o!==a.id){const s=o!=null?o:t.getId();a=t.create(s,e),n&&(l=!0)}else e&&a.setState(e);if(!a)throw new Error("[vueflow]: store instance not found.");return n&&(r.provide(dn,a),n.vueFlowId=a.id,l&&Oe(()=>{t.get(a.id)&&a.$destroy(),a=null})),a};const Cn=(e,t,n,o,i,a,l,s,c)=>{var p,g;const u=l.elementFromPoint(e.clientX,e.clientY),d=(u==null?void 0:u.classList.contains("target"))||!1,m=(u==null?void 0:u.classList.contains("source"))||!1,h={elementBelow:u,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(u&&(d||m)&&(h.isHoveringHandle=!0,t===xe.Strict?n&&m||!n&&d:!0)){const w=(p=u.getAttribute("data-nodeid"))!=null?p:"",_=(g=u.getAttribute("data-handleid"))!=null?g:"",z=n?w:o,O=n?_:i,y=n?o:w,C={source:z,sourceHandle:O,target:y,targetHandle:n?i:_};h.connection=C,h.isValid=a(C,{edges:s,sourceNode:c(z),targetNode:c(y)})||!h.connection.target||!h.connection.source}return h},ci=e=>{e==null||e.classList.remove("vue-flow__handle-valid"),e==null||e.classList.remove("vue-flow__handle-connecting")};var Mn=()=>{const e=q(),t=r.toRef(e,"edges"),n=r.toRef(e,"connectOnClick"),o=r.toRef(e,"nodesConnectable"),i=r.toRef(e,"connectionStartHandle"),a=r.toRef(e,"connectionPosition"),l=r.toRef(e,"connectionMode"),s=r.toRef(e,"emits"),c=r.toRef(e,"setState"),u=r.toRef(e,"getNode");let d;return{onMouseDown:(p,g,f,w,_,z,O,y)=>{var k;const M=p.target.closest(".vue-flow"),C=Ho(p.target);if(!C)return;let T=_!=null?_:()=>!0;const H=u.value(f);if(H&&(typeof H.connectable=="undefined"?o.value:H.connectable)===!1)return;_||H&&(T=(k=w?H.isValidSourcePos:H.isValidTargetPos)!=null?k:()=>!0);const D=C.elementFromPoint(p.clientX,p.clientY),G=D==null?void 0:D.classList.contains("target"),L=D==null?void 0:D.classList.contains("source");if(!M||!G&&!L&&!z)return;const Y=z!=null?z:G?"target":"source",I=M.getBoundingClientRect();c.value({connectionPosition:{x:p.clientX-I.left,y:p.clientY-I.top},connectionNodeId:f,connectionHandleId:g,connectionHandleType:Y}),s.value.connectStart({event:p,nodeId:f,handleId:g,handleType:Y});function v(b){a.value.x=b.clientX-I.left,a.value.y=b.clientY-I.top;const{connection:S,elementBelow:$,isValid:x,isHoveringHandle:N}=Cn(b,l.value,w,f,g,T,C,t.value,u.value);if(!N)return ci(d);!(S.source===S.target)&&$&&(d=$,$.classList.add("vue-flow__handle-connecting"),$.classList.toggle("vue-flow__handle-valid",x))}function R(b){const{connection:S,isValid:$}=Cn(b,l.value,w,f,g,T,C,t.value,u.value);s.value.connectStop(b);const x=S.source===S.target;$&&!x&&(O?O(S):s.value.connect(S)),s.value.connectEnd(b),z&&(y==null||y()),ci(d),c.value({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN}}),C.removeEventListener("mousemove",v),C.removeEventListener("mouseup",R)}C.addEventListener("mousemove",v),C.addEventListener("mouseup",R)},onClick:(p,g,f,w,_)=>{var z;if(!!n.value)if(!i.value)s.value.connectStart({event:p,nodeId:f,handleId:g,handleType:w}),c.value({connectionStartHandle:{nodeId:f,type:w,handleId:g}});else{let O=_!=null?_:()=>!0;const y=u.value(f);if(y&&(typeof y.connectable=="undefined"?o.value:y.connectable)===!1)return;_||y&&(O=(z=w!=="target"?y.isValidTargetPos:y.isValidSourcePos)!=null?z:()=>!0);const M=Ho(p.target),{connection:C,isValid:T}=Cn(p,l.value,i.value.type==="target",i.value.nodeId,i.value.handleId||null,O,M,t.value,u.value),H=C.source===C.target;s.value.connectStop(p),T&&!H&&s.value.connect(C),s.value.connectEnd(p),c.value({connectionStartHandle:null})}}}},Re=()=>typeof window!="undefined"?window:{chrome:!1};function ui(e){const t=e.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}var je=(e,t)=>{const n=Re();let o=r.ref(!1);return r.watch(o,()=>{t&&typeof t=="function"&&t(o.value)}),Hn(r.unref(e),i=>{ui(i)||(i.preventDefault(),o.value=!0)},{eventName:"keydown"}),Hn(r.unref(e),i=>{ui(i)||(i.preventDefault(),o.value=!1)},{eventName:"keyup"}),typeof n.addEventListener!="undefined"&&re(n,"blur",()=>{o.value=!1}),t&&typeof t=="function"&&t(o.value),o};const $n=.1,Bn=(e,t=0)=>e.transition().duration(t),ze=async(e,t)=>{const n=Re();return"screen"in n&&(await Pe(e).toMatch(({height:o,width:i})=>!isNaN(i)&&i>0&&!isNaN(o)&&o>0),t.length>0&&await Pe(t).toMatch(o=>!!o.filter(({dimensions:{width:i,height:a}})=>!isNaN(i)&&i>0&&!isNaN(a)&&a>0).length)),!0};var di=e=>{const t=q({id:e}),n=r.toRef(t,"onPaneReady"),o=r.toRef(t,"nodes"),i=r.toRef(t,"d3Zoom"),a=r.toRef(t,"d3Selection"),l=r.toRef(t,"dimensions"),s=r.toRef(t,"translateExtent"),c=r.toRef(t,"minZoom"),u=r.toRef(t,"maxZoom"),d=r.toRef(t,"viewport"),m=r.toRef(t,"snapToGrid"),h=r.toRef(t,"snapGrid"),p=r.toRef(t,"getNodes");let g=r.ref(!1);n.value(()=>g.value=!0);const f=async(y,M)=>{g.value||await ze(l.value,p.value),a.value&&i.value&&i.value.scaleTo(Bn(a.value,M==null?void 0:M.duration),y)},w=async(y,M)=>{g.value||await ze(l.value,p.value),a.value&&i.value&&i.value.scaleBy(Bn(a.value,M),y)},_=async y=>{await w(1.2,y==null?void 0:y.duration)},z=async y=>{await w(1/1.2,y==null?void 0:y.duration)},O=(y,M,C,T)=>{const{x:H,y:D}=yn({x:-y,y:-M},s.value),G=bt.translate(-H,-D).scale(C);a.value&&i.value&&i.value.transform(Bn(a.value,T),G)};return{zoomIn:_,zoomOut:z,zoomTo:f,setTransform:async(y,M)=>{g.value||await ze(l.value,p.value),O(y.x,y.y,y.zoom,M==null?void 0:M.duration)},getTransform:()=>({x:d.value.x,y:d.value.y,zoom:d.value.zoom}),fitView:async(y={padding:$n,includeHiddenNodes:!1,duration:0})=>{var G,L,Y;if(g.value||await ze(l.value,p.value),!p.value.length)return;let M=[];y.nodes&&(M=o.value.filter(I=>{var v;return(v=y.nodes)==null?void 0:v.includes(I.id)})),(!M||!M.length)&&(M=y.includeHiddenNodes?M:p.value);const C=Ct(M),{x:T,y:H,zoom:D}=bn(C,l.value.width,l.value.height,(G=y.minZoom)!=null?G:c.value,(L=y.maxZoom)!=null?L:u.value,(Y=y.padding)!=null?Y:$n,y.offset);O(T,H,D,y==null?void 0:y.duration)},setCenter:async(y,M,C)=>{g.value||await ze(l.value,p.value);const T=typeof(C==null?void 0:C.zoom)!="undefined"?C.zoom:u.value,H=l.value.width/2-y*T,D=l.value.height/2-M*T;O(H,D,T,C==null?void 0:C.duration)},fitBounds:async(y,M={padding:$n})=>{g.value||await ze(l.value,p.value);const{x:C,y:T,zoom:H}=bn(y,l.value.width,l.value.height,c.value,u.value,M.padding);O(C,T,H,M==null?void 0:M.duration)},project:y=>xn(y,d.value,m.value,h.value)}};function fi(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n.value)return!1;o=o.parentElement}while(o);return!1}function dc(e,t,n,o){return e.filter(i=>(i.selected||i.id===o)&&(!i.parentNode||!Uo(i,n))).map(i=>{var a,l;return{id:i.id,position:i.computedPosition||{x:0,y:0,z:0},distance:{x:t.x-((a=i.computedPosition)==null?void 0:a.x)||0,y:t.y-((l=i.computedPosition)==null?void 0:l.y)||0},extent:i.extent,parentNode:i.parentNode,dimensions:i.dimensions}})}function Rn({id:e,dragItems:t,getNode:n}){const o=t.map(i=>({...n.value(i.id)}));return[e?o.find(i=>i.id===e):o[0],o]}function fc(e,t,n,o,i,a){const l={x:t.x-e.distance.x,y:t.y-e.distance.y};if(n&&o){const[c,u]=o;l.x=c*Math.round(l.x/c),l.y=u*Math.round(l.y/u)}const s=hc(e,a,i);return e.position=s?yn(l,s):l,e}function hc(e,t,n){var i,a,l,s;let o=e.extent||t;if(e.extent==="parent"&&n)e.parentNode&&e.dimensions.width&&e.dimensions.height&&(o=n.computedPosition&&n.dimensions.width&&n.dimensions.height?[[n.computedPosition.x,n.computedPosition.y],[n.computedPosition.x+n.dimensions.width-e.dimensions.width,n.computedPosition.y+n.dimensions.height-e.dimensions.height]]:o);else if(e.extent&&e.parentNode){const c=e.extent,u=(a=(i=n==null?void 0:n.computedPosition)==null?void 0:i.x)!=null?a:0,d=(s=(l=n==null?void 0:n.computedPosition)==null?void 0:l.y)!=null?s:0;o=[[c[0][0]+u,c[0][1]+d],[c[1][0]+u,c[1][1]+d]]}return o}function hi(e){const t=r.effectScope(),n=t.run(()=>{const o=q(),i=r.toRef(o,"viewport"),a=r.toRef(o,"snapToGrid"),l=r.toRef(o,"snapGrid"),s=r.toRef(o,"noDragClassName"),c=r.toRef(o,"nodes"),u=r.toRef(o,"nodeExtent"),d=r.toRef(o,"getNode"),m=r.toRef(o,"multiSelectionActive"),h=r.toRef(o,"nodesSelectionActive"),p=r.toRef(o,"selectNodesOnDrag"),g=r.toRef(o,"removeSelectedElements"),f=r.toRef(o,"addSelectedNodes"),w=r.toRef(o,"updateNodePositions"),_=e,z=r.toRef(_,"onStart"),O=r.toRef(_,"onDrag"),y=r.toRef(_,"onStop"),M=r.toRef(_,"el"),C=r.toRef(_,"disabled",!1),T=r.toRef(_,"id"),H=r.ref(!1);let D=r.ref(),G=r.ref({x:void 0,y:void 0}),L=r.ref();const Y=v=>(v!=null?v:a.value)?l.value:void 0,I=(v,R)=>{const k=v.sourceEvent.touches?v.sourceEvent.touches[0].clientX:v.sourceEvent.clientX,b=v.sourceEvent.touches?v.sourceEvent.touches[0].clientY:v.sourceEvent.clientY;return xn({x:k,y:b},i.value,!!R,R!=null?R:l.value)};return r.watch([()=>C.value,()=>M.value],()=>{if(M.value){const v=ne(M.value),R=T.value?d.value(T.value):void 0;C.value?v.on(".drag",null):(L.value=Sa().on("start",k=>{!p.value&&!m.value&&T.value&&(R!=null&&R.selected||g.value()),R&&!C.value&&p.value&&Go(R,m.value,f.value,g.value,h);const b=I(k,Y(R==null?void 0:R.snapGrid));if(D.value=dc(c.value,b,d.value,T.value),z.value&&D.value){const[S,$]=Rn({id:T.value,dragItems:D.value,getNode:d});z.value(k.sourceEvent,S,$)}}).on("drag",k=>{const b=Y(R==null?void 0:R.snapGrid),S=I(k,b);if((G.value.x!==S.x||G.value.y!==S.y)&&D.value&&(G.value=S,D.value=D.value.map($=>fc($,S,!!b,b!=null?b:l.value,$.parentNode?d.value($.parentNode):void 0,u.value)),w.value(D.value,!0,!0),H.value=!0,O.value)){const[$,x]=Rn({id:T.value,dragItems:D.value,getNode:d});O.value(k.sourceEvent,$,x)}k.on("end",$=>{if(H.value=!1,y.value&&D.value){w.value(D.value,!1,!1);const[x,N]=Rn({id:T.value,dragItems:D.value,getNode:d});y.value($.sourceEvent,x,N)}})}).filter(k=>{const b=k.target;return!k.button&&(!s.value||!fi(b,`.${s.value}`,M)&&(!(R!=null&&R.dragHandle)||fi(b,R.dragHandle,M)))}),v.call(L.value))}},{flush:"post"}),H});return Oe(()=>t.stop()),n}const mc=()=>({doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),dragStart:Z(),drag:Z(),dragStop:Z()});function gc(e,t){const n=mc();return n.doubleClick.on(o=>{var i,a;t.nodeDoubleClick(o),(a=(i=e.events)==null?void 0:i.doubleClick)==null||a.call(i,o)}),n.click.on(o=>{var i,a;t.nodeClick(o),(a=(i=e.events)==null?void 0:i.click)==null||a.call(i,o)}),n.mouseEnter.on(o=>{var i,a;t.nodeMouseEnter(o),(a=(i=e.events)==null?void 0:i.mouseEnter)==null||a.call(i,o)}),n.mouseMove.on(o=>{var i,a;t.nodeMouseMove(o),(a=(i=e.events)==null?void 0:i.mouseMove)==null||a.call(i,o)}),n.mouseLeave.on(o=>{var i,a;t.nodeMouseLeave(o),(a=(i=e.events)==null?void 0:i.mouseLeave)==null||a.call(i,o)}),n.contextMenu.on(o=>{var i,a;t.nodeContextMenu(o),(a=(i=e.events)==null?void 0:i.contextMenu)==null||a.call(i,o)}),n.dragStart.on(o=>{var i,a;t.nodeDragStart(o),(a=(i=e.events)==null?void 0:i.dragStart)==null||a.call(i,o)}),n.drag.on(o=>{var i,a;t.nodeDrag(o),(a=(i=e.events)==null?void 0:i.drag)==null||a.call(i,o)}),n.dragStop.on(o=>{var i,a;t.nodeDragStop(o),(a=(i=e.events)==null?void 0:i.dragStop)==null||a.call(i,o)}),Object.entries(n).reduce((o,[i,a])=>(o.emit[i]=a.trigger,o.on[i]=a.on,o),{emit:{},on:{}})}const pc=()=>({doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),updateStart:Z(),update:Z(),updateEnd:Z()});function yc(e,t){const n=pc();return n.doubleClick.on(o=>{var i,a;t.edgeDoubleClick(o),(a=(i=e.events)==null?void 0:i.doubleClick)==null||a.call(i,o)}),n.click.on(o=>{var i,a;t.edgeClick(o),(a=(i=e.events)==null?void 0:i.click)==null||a.call(i,o)}),n.mouseEnter.on(o=>{var i,a;t.edgeMouseEnter(o),(a=(i=e.events)==null?void 0:i.mouseEnter)==null||a.call(i,o)}),n.mouseMove.on(o=>{var i,a;t.edgeMouseMove(o),(a=(i=e.events)==null?void 0:i.mouseMove)==null||a.call(i,o)}),n.mouseLeave.on(o=>{var i,a;t.edgeMouseLeave(o),(a=(i=e.events)==null?void 0:i.mouseLeave)==null||a.call(i,o)}),n.contextMenu.on(o=>{var i,a;t.edgeContextMenu(o),(a=(i=e.events)==null?void 0:i.contextMenu)==null||a.call(i,o)}),n.updateStart.on(o=>{var i,a;t.edgeUpdateStart(o),(a=(i=e.events)==null?void 0:i.updateStart)==null||a.call(i,o)}),n.update.on(o=>{var i,a;t.edgeUpdate(o),(a=(i=e.events)==null?void 0:i.update)==null||a.call(i,o)}),n.updateEnd.on(o=>{var i,a;t.edgeUpdateEnd(o),(a=(i=e.events)==null?void 0:i.updateEnd)==null||a.call(i,o)}),Object.entries(n).reduce((o,[i,a])=>(o.emit[i]=a.trigger,o.on[i]=a.on,o),{emit:{},on:{}})}const wc={name:"SelectionPane",inheritAttrs:!1},vc=r.defineComponent({...wc,setup(e){const{id:t,deleteKeyCode:n,selectionKeyCode:o,multiSelectionKeyCode:i,emits:a,nodesSelectionActive:l,userSelectionActive:s,multiSelectionActive:c,elementsSelectable:u,getNodes:d,getSelectedEdges:m,removeSelectedElements:h,removeNodes:p,removeEdges:g}=q(),f=C=>{a.paneClick(C),l.value=!1,h()},w=C=>a.paneContextMenu(C),_=C=>a.paneScroll(C),z=C=>a.paneMouseEnter(C),O=C=>a.paneMouseLeave(C),y=C=>a.paneMouseMove(C);je(n,C=>{if(!C)return;const T=d.value.reduce((H,D)=>((!D.selected&&D.parentNode&&H.find(G=>G.id===D.parentNode)||D.selected)&&H.push(D),H),[]);(T||m.value)&&(m.value.length>0&&g(m.value),T.length>0&&p(T),l.value=!1,h())}),je(i,C=>{c.value=C});const M=je(o,C=>{s.value&&C||(s.value=C&&u.value)});return(C,T)=>(r.openBlock(),r.createElementBlock(r.Fragment,null,[r.unref(M)?(r.openBlock(),r.createBlock(r.unref(ac),{key:`user-selection-${r.unref(t)}`})):r.createCommentVNode("",!0),r.unref(l)?(r.openBlock(),r.createBlock(r.unref(tc),{key:`nodes-selection-${r.unref(t)}`})):r.createCommentVNode("",!0),(r.openBlock(),r.createElementBlock("div",{key:`pane-${r.unref(t)}`,class:"vue-flow__pane vue-flow__container",onClick:f,onContextmenu:w,onWheel:_,onMouseenter:z,onMousemove:y,onMouseleave:O},null,32))],64))}}),xc={class:"vue-flow__nodes vue-flow__container"},_c={name:"Nodes"},bc=r.defineComponent({..._c,setup(e){const t=r.inject(kt),n=q(),o=r.toRef(n,"nodesDraggable"),i=r.toRef(n,"elementsSelectable"),a=r.toRef(n,"nodesConnectable");r.toRef(n,"noPanClassName"),r.toRef(n,"snapToGrid"),r.toRef(n,"snapGrid"),r.toRef(n,"getNode");const l=r.toRef(n,"getNodes"),s=r.toRef(n,"getNodeTypes"),c=h=>typeof h=="undefined"?o.value:h,u=h=>typeof h=="undefined"?i.value:h,d=h=>typeof h=="undefined"?a.value:h,m=(h,p)=>{const g=h||"default";let f=p!=null?p:s.value[g];const w=r.getCurrentInstance();if(typeof f=="string"&&w){const z=Object.keys(w.appContext.components);z&&z.includes(g)&&(f=r.resolveComponent(g,!1))}if(typeof f!="string")return f;const _=t==null?void 0:t[`node-${g}`];return _!=null&&_({})?_:(console.warn(`[vueflow]: Node type "${h}" not found and no node-slot detected. Using fallback type "default".`),!1)};return(h,p)=>(r.openBlock(),r.createElementBlock("div",xc,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(l.value,g=>(r.openBlock(),r.createBlock(r.unref(Vs),{id:g.id,key:g.id,type:m(g.type,g.template),name:g.type||"default",draggable:c(g.draggable),selectable:u(g.selectable),connectable:d(g.connectable),node:g},null,8,["id","type","name","draggable","selectable","connectable","node"]))),128))]))}}),kc=["id","markerWidth","markerHeight","markerUnits","orient"],Nc=["stroke","stroke-width","fill"],Ec=["stroke","stroke-width"],Sc={name:"MarkerType"},Cc=r.defineComponent({...Sc,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto"},strokeWidth:{default:1}},setup(e){return(t,n)=>(r.openBlock(),r.createElementBlock("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type==="arrowclosed"?(r.openBlock(),r.createElementBlock("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,Nc)):r.createCommentVNode("",!0),e.type==="arrow"?(r.openBlock(),r.createElementBlock("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,Ec)):r.createCommentVNode("",!0)],8,kc))}}),Mc={name:"MarkerDefinitions"},$c=r.defineComponent({...Mc,setup(e){const t=q(),n=r.toRef(t,"edges"),o=r.toRef(t,"connectionLineOptions"),i=r.toRef(t,"defaultMarkerColor"),a=r.computed(()=>{const l=[],s=[],c=u=>{if(u){const d=ge(u);l.includes(d)||(typeof u=="object"?s.push({...u,id:d,color:u.color||i.value}):s.push({id:d,color:i.value,type:u}),l.push(d))}};return[o.value.markerEnd,o.value.markerStart].forEach(c),n.value.reduce((u,d)=>([d.markerStart,d.markerEnd].forEach(c),u.sort((m,h)=>m.id.localeCompare(h.id))),s),s});return(l,s)=>(r.openBlock(),r.createElementBlock("defs",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(a),c=>(r.openBlock(),r.createBlock(Cc,{id:c.id,key:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,"stroke-width":c.strokeWidth,orient:c.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),Bc={key:0,class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Rc={name:"Edges"},zc=r.defineComponent({...Rc,setup(e){const t=r.inject(kt),n=q(),o=r.toRef(n,"emits"),i=r.toRef(n,"connectionMode"),a=r.toRef(n,"edgeUpdaterRadius"),l=r.toRef(n,"onPaneReady"),s=r.toRef(n,"connectionNodeId"),c=r.toRef(n,"nodesConnectable"),u=r.toRef(n,"connectionHandleType"),d=r.toRef(n,"edgesUpdatable"),m=r.toRef(n,"elementsSelectable"),h=r.toRef(n,"getSelectedNodes"),p=r.toRef(n,"nodesSelectionActive"),g=r.toRef(n,"getNode");r.toRef(n,"getNodes");const f=r.toRef(n,"getEdges"),w=r.toRef(n,"getEdgeTypes"),_=r.toRef(n,"addSelectedEdges"),z=r.toRef(n,"noPanClassName"),O=r.toRef(n,"elevateEdgesOnSelect"),y=E=>typeof E=="undefined"?m.value:E,M=E=>typeof E=="undefined"?d.value:E,C=r.ref(),T=Je(s,()=>s.value?g.value(s.value):!1),H=Je(s,()=>!!(T.value&&(typeof T.value.connectable=="undefined"?c.value:T.value.connectable)&&s.value&&u.value)),D=r.ref({});let G=r.ref([]),L=r.effectScope();l.value(()=>{L||(L=r.effectScope()),L.run(()=>{const E=r.computed(()=>f.value.length);r.watch([h,E],()=>{f.value.forEach(P=>{D.value[P.id]||(D.value[P.id]=yc(P,o.value))}),O.value?r.nextTick(()=>G.value=Rs(f.value,g.value)):G.value=[{isMaxLevel:!0,edges:f.value,level:0}]},{immediate:!0})})}),r.onBeforeUnmount(()=>{L==null||L.stop(),L=null});const Y=(E,P)=>{const W=E||"default";let V=P!=null?P:w.value[W];const K=r.getCurrentInstance();if(typeof V=="string"&&K){const ke=Object.keys(K.appContext.components);ke&&ke.includes(W)&&(V=r.resolveComponent(W,!1))}if(V&&typeof V!="string")return V;const j=t==null?void 0:t[`edge-${W}`];return j!=null&&j({})?j:(console.warn(`[vueflow]: Edge type "${E}" not found and no edge-slot detected. Using fallback type "default".`),!1)},I=(E,P)=>{const W={event:E,edge:P};y(P.selectable)&&(p.value=!1,_.value([P])),D.value[P.id].emit.click(W)},v=(E,P)=>D.value[P.id].emit.contextMenu({event:E,edge:P}),R=(E,P)=>D.value[P.id].emit.doubleClick({event:E,edge:P}),k=(E,P)=>D.value[P.id].emit.mouseEnter({event:E,edge:P}),b=(E,P)=>D.value[P.id].emit.mouseMove({event:E,edge:P}),S=(E,P)=>D.value[P.id].emit.mouseLeave({event:E,edge:P}),$=(E,P)=>{C.value=P.id,A(E,P,!0)},x=(E,P)=>{C.value=P.id,A(E,P,!1)},{onMouseDown:N}=Mn(),A=(E,P,W)=>{var j;const V=W?P.target:P.source,K=(j=W?P.targetHandle:P.sourceHandle)!=null?j:"";D.value[P.id].emit.updateStart({event:E,edge:P}),N(E,K,V,W,void 0,W?"target":"source",ke=>{vn(ke,f.value)||D.value[P.id].emit.update({edge:P,connection:ke})},()=>{D.value[P.id].emit.updateEnd({event:E,edge:P}),C.value=""})},F=E=>{const P=E.class instanceof Function?E.class(E):E.class;return[z.value,P]},B=E=>E.style instanceof Function?E.style(E):E.style;return(E,P)=>(r.openBlock(),r.createElementBlock(r.Fragment,null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(G.value,W=>(r.openBlock(),r.createElementBlock("svg",{key:W.level,class:"vue-flow__edges vue-flow__container",style:r.normalizeStyle(`z-index: ${W.level}`)},[W.isMaxLevel?(r.openBlock(),r.createBlock($c,{key:0})):r.createCommentVNode("",!0),r.createElementVNode("g",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(W.edges,V=>(r.openBlock(),r.createBlock(r.unref(Ks),{id:V.id,key:V.id,type:Y(V.type,V.template),name:V.type||"default",source:V.source,target:V.target,"target-handle-id":V.targetHandle,"source-handle-id":V.sourceHandle,"source-node":g.value(V.source),"target-node":g.value(V.target),label:V.label,data:V.data,events:{...V.events,...D.value[V.id].on},animated:V.animated,selectable:y(V.selectable),selected:V.selected,updatable:M(V.updatable),updating:V.id===C.value,"label-style":V.labelStyle,"label-show-bg":V.labelShowBg,"label-bg-style":V.labelBgStyle,"label-bg-padding":V.labelBgPadding,"label-bg-border-radius":V.labelBgBorderRadius,"connection-mode":i.value,"edge-updater-radius":a.value,"marker-end":V.markerEnd,"marker-start":V.markerStart,style:r.normalizeStyle(B(V)),class:r.normalizeClass(F(V)),onClick:K=>I(K,V),onDblclick:K=>R(K,V),onContextmenu:K=>v(K,V),onMouseenter:K=>k(K,V),onMousemove:K=>b(K,V),onMouseleave:K=>S(K,V),onSourceMousedown:K=>$(K,V),onTargetMousedown:K=>x(K,V)},null,8,["id","type","name","source","target","target-handle-id","source-handle-id","source-node","target-node","label","data","events","animated","selectable","selected","updatable","updating","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","connection-mode","edge-updater-radius","marker-end","marker-start","style","class","onClick","onDblclick","onContextmenu","onMouseenter","onMousemove","onMouseleave","onSourceMousedown","onTargetMousedown"]))),128))])],4))),128)),H.value&&!!T.value?(r.openBlock(),r.createElementBlock("svg",Bc,[r.createVNode(Js,{"source-node":T.value},null,8,["source-node"])])):r.createCommentVNode("",!0)],64))}}),Oc={name:"Transform"},Pc=r.defineComponent({...Oc,setup(e){const{id:t,viewport:n,dimensions:o,fitViewOnInit:i,emits:a,fitView:l,...s}=q(),c=async d=>{const m=Re();return"screen"in m&&await Pe(d).toMatch(({height:h,width:p})=>!isNaN(p)&&p>0&&!isNaN(h)&&h>0),!0};let u=r.ref(!1);return r.onMounted(async()=>{await c(o.value),u.value=!0,a.paneReady({id:t,viewport:n,dimensions:o,fitViewOnInit:i,fitView:l,emits:a,...s}),i!=null&&i.value&&l()}),(d,m)=>(r.openBlock(),r.createElementBlock("div",{key:`transform-${r.unref(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:r.normalizeStyle({transform:`translate(${r.unref(n).x}px,${r.unref(n).y}px) scale(${r.unref(n).zoom})`,opacity:u.value?void 0:0})},[r.createVNode(zc),r.createVNode(bc),r.renderSlot(d.$slots,"default")],4))}}),Tc={name:"Viewport"},Ic=r.defineComponent({...Tc,setup(e){const t=q(),n=r.toRef(t,"id"),o=r.toRef(t,"minZoom"),i=r.toRef(t,"maxZoom"),a=r.toRef(t,"defaultZoom"),l=r.toRef(t,"defaultPosition"),s=r.toRef(t,"translateExtent"),c=r.toRef(t,"dimensions"),u=r.toRef(t,"zoomActivationKeyCode"),d=r.toRef(t,"selectionKeyCode"),m=r.toRef(t,"panOnScroll"),h=r.toRef(t,"panOnScrollMode"),p=r.toRef(t,"panOnScrollSpeed"),g=r.toRef(t,"panOnDrag"),f=r.toRef(t,"zoomOnDoubleClick"),w=r.toRef(t,"zoomOnPinch"),_=r.toRef(t,"zoomOnScroll"),z=r.toRef(t,"preventScrolling"),O=r.toRef(t,"noWheelClassName"),y=r.toRef(t,"noPanClassName"),M=r.toRef(t,"setState"),C=r.toRef(t,"emits"),T=Zt("viewport",null);let H=r.ref(!1);const D=(S,$)=>S.x!==$.x&&!isNaN($.x)||S.y!==$.y&&!isNaN($.y)||S.zoom!==$.k&&!isNaN($.k),G=S=>({x:S.x,y:S.y,zoom:S.k}),L=(S,$)=>S.target.closest(`.${$}`),Y=Nt(a.value,o.value,i.value);let I=r.ref({...yn({x:l.value[0],y:l.value[1]},s.value),zoom:Y});const{width:v,height:R}=Pi(T),k=r.watch([v,R],([S,$])=>{c.value.width=S,c.value.height=$},{immediate:!0}),b=Re();return"screen"in b&&re(b,"resize",()=>{if(!T.value)return;const{width:S,height:$}=pn(T.value);c.value.width=S,c.value.height=$}),r.onBeforeUnmount(k),r.onMounted(()=>{const S=ps().scaleExtent([o.value,i.value]).translateExtent(s.value),$=ne(T.value).call(S),x=$.on("wheel.zoom"),N=bt.translate(I.value.x,I.value.y).scale(I.value.zoom);S.transform($,N),M.value({d3Zoom:S,d3Selection:$,d3ZoomHandler:x,viewport:{x:N.x,y:N.y,zoom:N.k},viewportRef:T.value});const A=je(d.value,B=>{B&&!H.value?S.on("zoom",null):B||S.on("zoom",E=>{M.value({viewport:{x:E.transform.x,y:E.transform.y,zoom:E.transform.k}});const P=G(E.transform);C.value.move({event:E,flowTransform:P})})}),F=je(u.value);S.on("start",B=>{H.value=!0;const E=G(B.transform);I.value=E,C.value.moveStart({event:B,flowTransform:E})}),S.on("end",B=>{if(H.value=!1,D(I.value,B.transform)){const E=G(B.transform);I.value=E,C.value.moveEnd({event:B,flowTransform:E})}}),r.watchEffect(()=>{m.value&&!F.value?$.on("wheel",B=>{var K;if(L(B,(K=O.value)==null?void 0:K.value))return!1;B.preventDefault(),B.stopImmediatePropagation();const E=$.property("__zoom").k||1;if(B.ctrlKey&&w.value){const j=ae(B),ke=-B.deltaY*(B.deltaMode===1?.05:B.deltaMode?1:.002)*10,Eu=E*2**ke;S.scaleTo($,Eu,j);return}const P=B.deltaMode===1?20:1,W=h.value===Ye.Vertical?0:B.deltaX*P,V=h.value===Ye.Horizontal?0:B.deltaY*P;S.translateBy($,-(W/E)*p.value,-(V/E)*p.value)}).on("wheel.zoom",null):typeof x!="undefined"&&$.on("wheel",B=>{var E;if(!z.value||L(B,(E=O.value)==null?void 0:E.value))return null;B.preventDefault()}).on("wheel.zoom",x)}),S.filter(B=>{const E=F.value||_.value,P=w.value&&B.ctrlKey;return!g.value&&!E&&!m.value&&!f.value&&!w.value||A.value||!f.value&&B.type==="dblclick"||L(B,O.value)&&B.type==="wheel"||L(B,y.value)&&B.type!=="wheel"||!w.value&&B.ctrlKey&&B.type==="wheel"||!E&&!m.value&&!P&&B.type==="wheel"||!g.value&&(B.type==="mousedown"||B.type==="touchstart")?!1:(!B.ctrlKey||B.type==="wheel")&&!B.button})}),(S,$)=>(r.openBlock(),r.createElementBlock("div",{ref:"viewport",key:`viewport-${n.value}`,class:"vue-flow__viewport vue-flow__container"},[r.createVNode(Pc,null,{default:r.withCtx(()=>[r.renderSlot(S.$slots,"default")]),_:3}),r.createVNode(vc)]))}}),ee=e=>typeof r.unref(e)!="undefined";var Ac=(e,t,n)=>{const o=r.effectScope();return o.run(()=>{[()=>{o.run(()=>{let g,f;g=Ee([e.modelValue,()=>{var w,_;return(_=(w=e.modelValue)==null?void 0:w.value)==null?void 0:_.length}],([w])=>{w&&Array.isArray(w)&&(f&&f.pause(),g&&g.pause(),n.setElements(w),f=Ee([n.edges,n.nodes,()=>n.edges.value.length,()=>n.nodes.value.length],([_,z])=>{g&&g.pause();const O=[...z,..._];O.length&&(e.modelValue.value=O),r.nextTick(()=>{g&&g.resume()})},{immediate:!0}),r.nextTick(()=>{f&&f.resume(),g&&g.resume()}))},{immediate:!!(e.modelValue&&e.modelValue.value)})})},()=>{o.run(()=>{let g,f;g=Ee([e.nodes,()=>{var w,_;return(_=(w=e.nodes)==null?void 0:w.value)==null?void 0:_.length}],async([w])=>{w&&Array.isArray(w)&&(f&&f.pause(),g&&g.pause(),n.setNodes(w),f=Ee(()=>n.nodes.value.length,()=>{n.nodes.value.length&&(e.nodes.value=[...n.nodes.value])},{immediate:!0}),r.nextTick(()=>{f&&f.resume(),g&&g.resume()}))},{immediate:!!(e.nodes&&e.nodes.value)})})},()=>{o.run(()=>{let g,f;g=Ee([e.edges,()=>{var w,_;return(_=(w=e.edges)==null?void 0:w.value)==null?void 0:_.length}],async([w])=>{w&&Array.isArray(w)&&(f&&f.pause(),g&&g.pause(),n.setEdges(w),f=Ee(()=>n.edges.value.length,()=>{n.edges.value.length&&(e.edges.value=[...n.edges.value])},{immediate:!0}),r.nextTick(()=>{f&&f.resume(),g&&g.resume()}))},{immediate:!!(e.edges&&e.edges.value)})})},()=>{o.run(()=>{r.watch(()=>t.minZoom,()=>{t.minZoom&&ee(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:ee(t.minZoom)})})},()=>{o.run(()=>{r.watch(()=>t.maxZoom,()=>{t.maxZoom&&ee(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:ee(t.maxZoom)})})},()=>{o.run(()=>{r.watch(()=>t.translateExtent,()=>{t.translateExtent&&ee(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:ee(t.translateExtent)})})},()=>{o.run(()=>{r.watch(()=>t.nodeExtent,()=>{t.nodeExtent&&ee(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:ee(t.nodeExtent)})})},()=>{o.run(()=>{r.watch(()=>t.applyDefault,()=>{ee(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:ee(t.applyDefault)}),r.watch(n.applyDefault,(g,f,w)=>{n.applyDefault.value?(n.onNodesChange(n.applyNodeChanges),n.onEdgesChange(n.applyEdgeChanges)):(n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)),w(()=>{n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)})},{immediate:!0})})},()=>{o.run(()=>{const g=async f=>{let w=f;Vt(t.autoConnect)&&(w=await t.autoConnect(f)),w!==!1&&n.addEdges([w])};r.watch(()=>t.autoConnect,()=>{ee(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:ee(t.autoConnect)}),r.watch(n.autoConnect,(f,w,_)=>{f?n.onConnect(g):n.hooks.value.connect.off(g),_(()=>{n.hooks.value.connect.off(g)})},{immediate:!0})})},()=>{const g=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(f=>{if(!g.includes(f)){const w=r.toRef(t,f),_=n[f];o.run(()=>{r.watch(w,()=>{ee(w)&&(_.value=w.value)},{immediate:ee(w)})})}})}].forEach(g=>g())}),()=>o.stop()};const Dc={name:"VueFlow"},Vc=r.defineComponent({...Dc,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:null,deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultZoom:null,defaultPosition:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0}},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectStop","connectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,i=nt(o,"modelValue",n),a=nt(o,"nodes",n),l=nt(o,"edges",n),{vueFlowRef:s,id:c,hooks:u,getNodeTypes:d,getEdgeTypes:m,$reset:h,...p}=q({id:o.id}),g=Ac({modelValue:i,nodes:a,edges:l},o,{vueFlowRef:s,id:c,hooks:u,getNodeTypes:d,getEdgeTypes:m,$reset:h,...p}),f=r.ref();return r.onUnmounted(()=>{g()}),r.onMounted(()=>{s.value=f.value}),ws(n,u),r.provide(kt,r.useSlots()),t({vueFlowRef:s,id:c,hooks:u,getNodeTypes:d,getEdgeTypes:m,$reset:h,...p}),(w,_)=>(r.openBlock(),r.createElementBlock("div",{ref_key:"el",ref:f,class:"vue-flow"},[r.createVNode(Ic,null,{nodes:r.withCtx(()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(Object.keys(r.unref(d)),z=>r.renderSlot(w.$slots,`node-${z}`)),256))]),edges:r.withCtx(()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(Object.keys(r.unref(m)),z=>r.renderSlot(w.$slots,`edge-${z}`)),256))]),"connection-name":r.withCtx(()=>[r.renderSlot(w.$slots,"connection-line")]),default:r.withCtx(()=>[r.renderSlot(w.$slots,"zoom-pane")]),_:3}),r.renderSlot(w.$slots,"default")],512))}}),Dt=function({position:{x:e,y:t},dimensions:{height:n,width:o},strokeWidth:i,strokeColor:a,borderRadius:l,color:s,shapeRendering:c="geometricPrecision"},{attrs:u,emit:d,slots:m}){var p,g;const h=(p=u.style)!=null?p:{};return[r.h("rect",{class:["vue-flow__minimap-node",u.class].join(" "),style:h,x:e,y:t,rx:l,ry:l,width:o,height:n,fill:s||h.background||h.backgroundColor,stroke:a,strokeWidth:i,shapeRendering:c,onClick:f=>d("click",f),onDblClick:f=>d("dblclick",f),onMouseenter:f=>d("mouseenter",f),onMousemove:f=>d("mousemove",f),onMouseleave:f=>d("mouseleave",f)}),(g=m==null?void 0:m.default)==null?void 0:g.call(m)]};Dt.props=["position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering"],Dt.emits=["click","dblclick","mouseenter","mousemove","mouseleave"];const Hc=["width","height","viewBox"],Lc=["d","fill"],Fc={name:"MiniMap"},Zc=r.defineComponent({...Fc,props:{nodeColor:{type:[String,Function],default:"#fff"},nodeStrokeColor:{type:[String,Function],default:"#555"},nodeClassName:null,nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 242, 243, 0.7)"},width:null,height:null},emits:["nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=r.useAttrs(),o=Re(),i=200,a=150,l=q(),s=r.toRef(l,"edges"),c=r.toRef(l,"viewport"),u=r.toRef(l,"dimensions"),d=r.toRef(l,"emits"),m=r.toRef(l,"getNodes"),h=r.computed(()=>{var L,Y,I;return(I=(Y=e.width)!=null?Y:(L=n.style)==null?void 0:L.width)!=null?I:i}),p=r.computed(()=>{var L,Y,I;return(I=(Y=e.height)!=null?Y:(L=n.style)==null?void 0:L.height)!=null?I:a}),g=e.nodeColor instanceof Function?e.nodeColor:()=>e.nodeColor,f=e.nodeStrokeColor instanceof Function?e.nodeStrokeColor:()=>e.nodeStrokeColor,w=e.nodeClassName instanceof Function?e.nodeClassName:()=>e.nodeClassName,_=typeof o=="undefined"||!!o.chrome?"crispEdges":"geometricPrecision",z=r.computed(()=>Ct(m.value)),O=r.computed(()=>({x:-c.value.x/c.value.zoom,y:-c.value.y/c.value.zoom,width:u.value.width/c.value.zoom,height:u.value.height/c.value.zoom})),y=Je(O,()=>{const L=m.value&&m.value.length?Ss(z.value,O.value):O.value,Y=L.width/h.value,I=L.height/p.value,v=Math.max(Y,I),R=v*h.value,k=v*p.value,b=5*v;return{offset:b,x:L.x-(R-L.width)/2-b,y:L.y-(k-L.height)/2-b,width:R+b*2,height:k+b*2}}),M=Je(y,()=>y.value.x&&y.value.y?`
    M${y.value.x-y.value.offset},${y.value.y-y.value.offset}
    h${y.value.width+y.value.offset*2}
    v${y.value.height+y.value.offset*2}
    h${-y.value.width-y.value.offset*2}z
    M${O.value.x},${O.value.y}
    h${O.value.width}
    v${O.value.height}
    h${-O.value.width}z`:""),C=(L,Y)=>{const I={event:L,node:Y,connectedEdges:J([Y],s.value)};d.value.miniMapNodeClick(I),t("nodeClick",I)},T=(L,Y)=>{const I={event:L,node:Y,connectedEdges:J([Y],s.value)};d.value.miniMapNodeDoubleClick(I),t("nodeDblclick",I)},H=(L,Y)=>{const I={event:L,node:Y,connectedEdges:J([Y],s.value)};d.value.miniMapNodeMouseEnter(I),t("nodeMouseenter",I)},D=(L,Y)=>{const I={event:L,node:Y,connectedEdges:J([Y],s.value)};d.value.miniMapNodeMouseMove(I),t("nodeMousemove",I)},G=(L,Y)=>{const I={event:L,node:Y,connectedEdges:J([Y],s.value)};d.value.miniMapNodeMouseLeave(I),t("nodeMouseleave",I)};return(L,Y)=>(r.openBlock(),r.createElementBlock("svg",{width:h.value,height:p.value,viewBox:[y.value.x,y.value.y,y.value.width,y.value.height].join(" "),class:"vue-flow__minimap"},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(m.value,I=>(r.openBlock(),r.createBlock(r.unref(Dt),{id:I.id,key:I.id,position:I.computedPosition,dimensions:I.dimensions,style:r.normalizeStyle(I.style),class:r.normalizeClass(r.unref(w)(I)),color:r.unref(g)(I),"border-radius":e.nodeBorderRadius,"stroke-color":r.unref(f)(I),"stroke-width":e.nodeStrokeWidth,"shape-rendering":r.unref(_),onClick:v=>C(v,I),onDblclick:v=>T(v,I),onMouseenter:v=>H(v,I),onMousemove:v=>D(v,I),onMouseleave:v=>G(v,I)},{default:r.withCtx(()=>[r.renderSlot(L.$slots,`node-${I.type}`,{id:I.id,parentNode:I.parentNode,selected:I.selected,position:I.computedPosition,dimensions:I.dimensions,style:r.normalizeStyle(I.style),class:r.normalizeClass(r.unref(w)(I)),color:r.unref(g)(I),borderRadius:e.nodeBorderRadius,strokeColor:r.unref(f)(I),strokeWidth:e.nodeStrokeWidth,shapeRendering:r.unref(_)})]),_:2},1032,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),r.createElementVNode("path",{class:"vue-flow__minimap-mask",d:r.unref(M),fill:e.maskColor,"fill-rule":"evenodd"},null,8,Lc)],8,Hc))}});var Uc=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n};const Xc={name:"ControlButton"},Yc={class:"vue-flow__controls-button"};function Gc(e,t,n,o,i,a){return r.openBlock(),r.createElementBlock("button",Yc,[r.renderSlot(e.$slots,"default")])}var Qe=Uc(Xc,[["render",Gc]]);const Wc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Kc=[r.createElementVNode("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1)];function qc(e,t){return r.openBlock(),r.createElementBlock("svg",Wc,Kc)}var jc={render:qc};const Qc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Jc=[r.createElementVNode("path",{d:"M0 0h32v4.2H0z"},null,-1)];function eu(e,t){return r.openBlock(),r.createElementBlock("svg",Qc,Jc)}var tu={render:eu};const nu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ou=[r.createElementVNode("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1)];function iu(e,t){return r.openBlock(),r.createElementBlock("svg",nu,ou)}var ru={render:iu};const au={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},lu=[r.createElementVNode("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1)];function su(e,t){return r.openBlock(),r.createElementBlock("svg",au,lu)}var cu={render:su};const uu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},du=[r.createElementVNode("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1)];function fu(e,t){return r.openBlock(),r.createElementBlock("svg",uu,du)}var hu={render:fu};const mu={class:"vue-flow__controls"},gu={name:"Controls"},pu=r.defineComponent({...gu,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const n=q(),o=r.toRef(n,"nodesDraggable"),i=r.toRef(n,"nodesConnectable"),a=r.toRef(n,"elementsSelectable"),l=r.toRef(n,"setInteractive"),s=r.toRef(n,"zoomIn"),c=r.toRef(n,"zoomOut"),u=r.toRef(n,"fitView"),d=r.computed(()=>o.value&&i.value&&a.value),m=()=>{s.value(),t("zoomIn")},h=()=>{c.value(),t("zoomOut")},p=()=>{u.value(e.fitViewParams),t("fitView")},g=()=>{l.value(!d.value),t("interactionChange",!d.value)};return(f,w)=>(r.openBlock(),r.createElementBlock("div",mu,[r.renderSlot(f.$slots,"top"),e.showZoom?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.renderSlot(f.$slots,"control-zoom-in",{},()=>[r.createVNode(Qe,{class:"vue-flow__controls-zoomin",onClick:m},{default:r.withCtx(()=>[r.renderSlot(f.$slots,"icon-zoom-in",{},()=>[r.createVNode(r.unref(jc))])]),_:3})]),r.renderSlot(f.$slots,"control-zoom-out",{},()=>[r.createVNode(Qe,{class:"vue-flow__controls-zoomout",onClick:h},{default:r.withCtx(()=>[r.renderSlot(f.$slots,"icon-zoom-out",{},()=>[r.createVNode(r.unref(tu))])]),_:3})])],64)):r.createCommentVNode("",!0),e.showFitView?r.renderSlot(f.$slots,"control-fit-view",{key:1},()=>[r.createVNode(Qe,{class:"vue-flow__controls-fitview",onClick:p},{default:r.withCtx(()=>[r.renderSlot(f.$slots,"icon-fit-view",{},()=>[r.createVNode(r.unref(ru))])]),_:3})]):r.createCommentVNode("",!0),e.showInteractive?r.renderSlot(f.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(r.openBlock(),r.createBlock(Qe,{key:0,class:"vue-flow__controls-interactive",onClick:g},{default:r.withCtx(()=>[r.unref(d)?r.renderSlot(f.$slots,"icon-unlock",{key:0},()=>[r.createVNode(r.unref(hu))]):r.createCommentVNode("",!0),r.unref(d)?r.createCommentVNode("",!0):r.renderSlot(f.$slots,"icon-lock",{key:1},()=>[r.createVNode(r.unref(cu))])]),_:3})):r.createCommentVNode("",!0)]):r.createCommentVNode("",!0),r.renderSlot(f.$slots,"default")]))}}),yu=["x","y","width","height"],wu=["stroke","stroke-width","d"],vu=["cx","cy","r","fill"],xu={key:2,height:"100",width:"100"},_u=["fill"],bu=["x","y","fill"],ku={name:"Background"},Nu=r.defineComponent({...ku,props:{variant:{default:()=>"dots"},gap:{default:10},size:{default:.4},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0}},setup(e){const t={dots:"#81818a",lines:"#eee"},n=q(),o=r.toRef(n,"viewport"),i=r.computed(()=>{const c=e.gap&&e.gap*o.value.zoom,u=c&&o.value.x%c,d=c&&o.value.y%c,m=e.size*o.value.zoom;return{scaledGap:c,xOffset:u,yOffset:d,size:m}}),a=`pattern-${Math.floor(Math.random()*1e5)}`,l=r.computed(()=>e.patternColor||t[e.variant||"dots"]),s=r.computed(()=>`M${i.value.scaledGap/2} 0 V${i.value.scaledGap} M0 ${i.value.scaledGap/2} H${i.value.scaledGap}`);return(c,u)=>(r.openBlock(),r.createElementBlock("svg",{class:"vue-flow__background",style:r.normalizeStyle({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[r.renderSlot(c.$slots,"pattern-container",{id:a},()=>[r.createElementVNode("pattern",{id:a,x:i.value.xOffset,y:i.value.yOffset,width:i.value.scaledGap,height:i.value.scaledGap,patternUnits:"userSpaceOnUse"},[r.renderSlot(c.$slots,"pattern",{},()=>[e.variant==="lines"?(r.openBlock(),r.createElementBlock("path",{key:0,stroke:r.unref(l),"stroke-width":e.size,d:r.unref(s)},null,8,wu)):e.variant==="dots"?(r.openBlock(),r.createElementBlock("circle",{key:1,cx:i.value.size,cy:i.value.size,r:i.value.size,fill:r.unref(l)},null,8,vu)):r.createCommentVNode("",!0),e.bgColor?(r.openBlock(),r.createElementBlock("svg",xu,[r.createElementVNode("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,_u)])):r.createCommentVNode("",!0)])],8,yu)]),r.createElementVNode("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${a})`},null,8,bu),r.renderSlot(c.$slots,"default",{id:a})],4))}});return X.Background=Nu,X.BackgroundVariant=Do,X.BaseEdge=_e,X.BezierEdge=Pt,X.ConnectionLineType=ve,X.ConnectionMode=xe,X.ControlButton=Qe,X.Controls=pu,X.EdgeText=Qo,X.GlobalVueFlowStorage=be,X.Handle=Ge,X.MarkerType=Vo,X.MiniMap=Zc,X.MiniMapNode=Dt,X.NodeIdInjection=fn,X.PanOnScrollMode=Ye,X.Position=U,X.SimpleBezierEdge=Tt,X.SmoothStepEdge=qe,X.StepEdge=It,X.StraightEdge=At,X.VueFlow=Vc,X.VueFlowInjection=dn,X.addEdge=Ns,X.applyChanges=Ke,X.applyEdgeChanges=zs,X.applyNodeChanges=Os,X.defaultEdgeTypes=li,X.defaultNodeTypes=ai,X.getBezierCenter=Jo,X.getBezierPath=Nn,X.getConnectedEdges=J,X.getEdgeCenter=En,X.getIncomers=ks,X.getMarkerId=ge,X.getNodesInside=_n,X.getOutgoers=bs,X.getRectOfNodes=Ct,X.getSimpleBezierCenter=ti,X.getSimpleBezierPath=ei,X.getSmoothStepPath=Ot,X.getTransformForBounds=bn,X.graphPosToZoomedPos=Cs,X.isEdge=ce,X.isNode=Et,X.updateEdge=Es,X.useHandle=Mn,X.useVueFlow=q,X.useZoomPanHelper=di,Object.defineProperties(X,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),X}({},Vue);
